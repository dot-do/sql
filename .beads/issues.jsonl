{"id":"sql-01z","title":"REFACTOR: Consolidate duplicate type exports between index.ts and experimental.ts","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:13.633046-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:21:36.310924-06:00","closed_at":"2026-01-22T18:21:36.310924-06:00","close_reason":"By design - experimental.ts provides explicit subpath for consumers opting into unstable APIs"}
{"id":"sql-068x","title":"EDIT: README.md - Document WebSocket hibernation attachment schema","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:26.088229-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:19:38.432824-06:00","closed_at":"2026-01-22T19:19:38.432824-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-078b","title":"EDIT: lake.do e2e/client.ts missing @throws documentation for error conditions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:40.044776-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T20:05:48.021022-06:00","closed_at":"2026-01-22T20:05:48.021022-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-07r","title":"[EDIT] Fix Remaining Broken Links - Audit all docs for broken internal links","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:40.224741-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:49:18.115938-06:00","closed_at":"2026-01-22T08:49:18.115938-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-07r","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:02.309219-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-08ls","title":"DOCS: Troubleshooting Guide - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:28.462178-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:20:35.855528-06:00","closed_at":"2026-01-23T12:20:35.855528-06:00","close_reason":"Closed"}
{"id":"sql-0b1j","title":"Fix named parameter edge cases - type casts, mixed params (7 tests)","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:39.119531-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:39.119531-06:00"}
{"id":"sql-0dwg","title":"EDIT: README.md - Document NACK reason codes (invalid_format, buffer_full, etc.)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:47.607045-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:07:37.161827-06:00","closed_at":"2026-01-22T19:07:37.161827-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-0f5","title":"REFACTOR: Extract CLI command action handlers into separate functions","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:52.327862-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:15:50.31655-06:00","closed_at":"2026-01-22T17:15:50.31655-06:00","close_reason":"Closed"}
{"id":"sql-0gd","title":"REFACTOR: Extract runtime mode from shared-types","description":"Architecture Review: _devMode/_strictMode global state violates pure types principle. Extract to separate config module.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:02.713203-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:26:04.692259-06:00","closed_at":"2026-01-22T12:26:04.692259-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-0gok","title":"REFACTOR: Consolidate timeout field naming inconsistency (timeout vs timeoutMs)","description":"Multiple interfaces have both 'timeout' and 'timeoutMs' fields: QueryRequest (lines 662-664), TransactionOptions (lines 849-850). This creates confusion about which to use. Consider standardizing on one naming convention (prefer 'timeoutMs' for clarity) and deprecating the other. Add JSDoc @deprecated tags and runtime warnings for the deprecated field.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:40.556654-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:52:35.462139-06:00","closed_at":"2026-01-22T18:52:35.462139-06:00","close_reason":"Analyzed timeout/timeoutMs usage across the codebase. Both field names are used INTENTIONALLY for different purposes:\n\n1. **'timeout' (no suffix)** - Used for:\n   - Configuration options in client/connection configs (e.g., SQLClientConfig.timeout, ConnectionConfig.timeout)\n   - Internal timer handles (ReturnType\u003ctypeof setTimeout\u003e)\n   - Function parameters where context is obvious (e.g., acquireLock(..., timeout))\n   - Documentation and README examples\n\n2. **'timeoutMs' (with suffix)** - Used for:\n   - Type definitions where explicitness matters (e.g., TimeoutError.timeoutMs, TransactionTimeoutConfig.defaultTimeoutMs)\n   - RPC/wire protocol fields (e.g., request.timeoutMs in RPC server)\n   - Options objects passed to internal functions (e.g., TransactionOptions.timeoutMs)\n   - E2E test configurations\n\nThe distinction follows a reasonable pattern:\n- Public APIs use 'timeout' (cleaner, documented in JSDoc as milliseconds)\n- Internal types/protocols use 'timeoutMs' (self-documenting, no ambiguity)\n- Error classes use 'timeoutMs' to be explicit about units in error context\n\nNo true inconsistency found within the same interface/module. Both exist by design for clarity in different contexts."}
{"id":"sql-0ixa","title":"EDIT: lake.do e2e/client.ts missing @returns JSDoc tags for most methods","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:37.772876-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T20:05:48.043115-06:00","closed_at":"2026-01-22T20:05:48.043115-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-0l4h","title":"[GREEN] Fix failing tests in retention.test.ts","description":"Fix 11 failing tests in packages/dosql/src/wal/__tests__/retention.test.ts\n\n## Failing Test Categories:\n- Retention policy configuration validation\n- Configuration file loading\n- Policy inheritance and composition\n- Custom metrics reporters (Prometheus, StatsD)\n- Real-time monitoring events\n- Per-table retention policies\n- Transaction importance-based retention\n- Scheduled retention windows\n- Dry-run with impact analysis\n- Atomic cleanup with rollback on failure\n\n## Test Patterns:\n- it.fails('should validate retention policy configuration on creation')\n- it.fails('should support custom metrics reporters (Prometheus, StatsD, etc.)')\n- it.fails('should support retention policies per table')\n- it.fails('should support dry-run with impact analysis')\n- it.fails('should support atomic cleanup with rollback on failure')","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:23:03.429616-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:31:33.816915-06:00","closed_at":"2026-01-23T10:31:33.816915-06:00","close_reason":"Batch 4 tests fixed - commit 6ba0206"}
{"id":"sql-0q4","title":"[RED] Query Plan Caching - Tests for hash-based plan cache at router level","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:44.336969-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:43.510644-06:00","closed_at":"2026-01-22T08:47:43.510644-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-0q4","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:08.14003-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-0rp","title":"WRITE: D1 migration guide","description":"Product Review: Need migration guides for adoption. Create docs/MIGRATION-D1.md with step-by-step D1 to DoSQL migration, API differences, gotchas.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:51.603114-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:28:32.485689-06:00","closed_at":"2026-01-22T14:28:32.485689-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-0u18","title":"EDIT: README example code uses deprecated/incorrect RETURNING syntax for insert result","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:28.971336-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:26:29.916563-06:00","closed_at":"2026-01-22T19:26:29.916563-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-0uw3","title":"REFACTOR: Add JSDoc @internal tags to private methods for API documentation clarity","description":"Several methods in DoLakeClient have JSDoc but are private implementation details: handleMessage() (line 446), rpc() (line 475), ensureConnection() (line 389), transformCompactionJob() (line 751). Adding @internal tags would: 1) Exclude from generated API docs 2) Signal to developers these are implementation details 3) Make the public API surface clearer","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:35.721092-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:14.741399-06:00","closed_at":"2026-01-22T17:20:14.741399-06:00","close_reason":"Added @internal JSDoc tags to ensureConnection, handleMessage, and rpc private methods in DoLakeClient"}
{"id":"sql-0v8","title":"TDD: Add R2 error handling in iceberg.ts","description":"General Review: R2 bucket operations (put/get/delete) in dolake/src/iceberg.ts lines 684-743 have no try-catch. Add error handling with IcebergError.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:18.516141-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:13:01.630658-06:00","closed_at":"2026-01-22T14:13:01.630658-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-0vy","title":"[REFACTOR] Resolve TODO Comments - Address 9 TODO items in core functionality","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:42.038196-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:31.565979-06:00","closed_at":"2026-01-22T11:03:31.565979-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-0vy","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:40:56.986497-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-14xz","title":"Fix CASE expression edge cases","description":"\n## Problem\nCASE with multiple branches producing different results:\n```sql\nSELECT CASE a+1 WHEN b THEN 111 WHEN c THEN 222 WHEN d THEN 333 ELSE 555 END\n-- Results don't match expected\n```\n\n## TDD Approach\n\n### RED Phase\n- Add failing test in src/parser/__tests__/case-expression.test.ts\n- Test: Simple CASE with expression\n- Test: CASE with computed comparison values\n- Test: CASE with NULL handling\n- Test: Nested CASE expressions\n\n### GREEN Phase\n- Fix CASE evaluation order and comparison\n- Ensure proper type coercion in WHEN comparisons\n\n### REFACTOR Phase\n- Optimize CASE with constant branches\n- Add short-circuit evaluation\n\n## Files\n- packages/dosql/src/engine/expression.ts\n- packages/dosql/src/parser/case.ts\n","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:07:28.104766-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:21.004407-06:00","closed_at":"2026-01-30T10:42:21.004407-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-17i8","title":"REFACTOR: Remove as-any usage in dosql test files (493 instances)","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:51:16.1426-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T03:32:25.594151-06:00","closed_at":"2026-01-23T03:32:25.594151-06:00","close_reason":"Closed"}
{"id":"sql-1cx","title":"[RED] Distributed Transactions - Tests for cross-shard 2PC transactions","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:41.599284-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:00.943482-06:00","closed_at":"2026-01-22T08:47:00.943482-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-1cx","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:04.462918-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-1fu","title":"TDD: GREEN performance baseline tests","description":"Testing Review: performance.test.ts has 36 it.fails() tests with aggressive latency targets. Optimize to meet p50\u003c5ms, p95\u003c20ms targets.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:46.565564-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:28:32.431427-06:00","closed_at":"2026-01-22T14:28:32.431427-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-1gja","title":"DOCS: API Reference - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:01:30.649334-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:31:53.799016-06:00","closed_at":"2026-01-23T12:31:53.799016-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-1gja","depends_on_id":"sql-ntgh","type":"blocks","created_at":"2026-01-23T12:01:30.650734-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-1gja","depends_on_id":"sql-rxgr","type":"blocks","created_at":"2026-01-23T12:01:43.787309-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-1kli","title":"EDIT: Error message in TimeoutError should include operation type (query/exec/transaction)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:20.653844-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:26:29.98437-06:00","closed_at":"2026-01-22T19:26:29.98437-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-1meh","title":"RED: Worker proxy should pool WebSocket connections to DO with hibernation API","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:51:04.768707-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:09:31.088015-06:00","closed_at":"2026-01-22T17:09:31.088015-06:00","close_reason":"Closed"}
{"id":"sql-1npt","title":"EDIT: api-reference.md - Document transactional savepoint nesting limitations","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:43.378737-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:51:29.771699-06:00","closed_at":"2026-01-22T19:51:29.771699-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-1qp","title":"EDIT: lake.do README.md missing CDCStreamController documentation with backpressure options","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:03.726957-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:56:39.522739-06:00","closed_at":"2026-01-22T18:56:39.522739-06:00","close_reason":"Added comprehensive CDCStreamController documentation with backpressure options to packages/lake.do/README.md. Documentation includes: usage examples, backpressure strategies table (block/drop-oldest/drop-newest), CDCStreamControllerOptions interface, CDCStreamMetrics interface, water mark event callbacks, and runtime queue management methods."}
{"id":"sql-218","title":"TEST: Add sql.do client connection/query tests","description":"Testing Review: sql.do only has idempotency tests. Add tests for DoSQLClient connection, query execution, transaction methods, WebSocket handling.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:50:59.538918-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:26:04.601703-06:00","closed_at":"2026-01-22T12:26:04.601703-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-2417","title":"EDIT: docs/API.md - Add missing /analytics/status endpoint documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:16.183376-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:34:54.013545-06:00","closed_at":"2026-01-22T19:34:54.013545-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-245m","title":"EDIT: src/proc/types.ts - Add @example JSDoc tags to interface definitions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:51.532851-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:55:10.039653-06:00","closed_at":"2026-01-22T19:55:10.039653-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-26rm","title":"EDIT: lake.do e2e/client.ts missing JSDoc @param tags for function parameters","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:36.994358-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T20:05:48.066774-06:00","closed_at":"2026-01-22T20:05:48.066774-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-27ku","title":"DOCS: Vector Search - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:30.472864-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:45:50.36018-06:00","closed_at":"2026-01-23T12:45:50.36018-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-27ku","depends_on_id":"sql-kre4","type":"blocks","created_at":"2026-01-23T12:02:42.507962-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-28g","title":"[WRITE] Operations Guide - docs/OPERATIONS.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:44.654751-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:31.504322-06:00","closed_at":"2026-01-22T11:03:31.504322-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-28g","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:05.867087-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-2b9","title":"[RED] Branded Type Enforcement - Tests for LSN/TransactionId factory usage","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:39.132283-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:46:31.201759-06:00","closed_at":"2026-01-22T08:46:31.201759-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-2b9","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:01.929418-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-2cj","title":"EDIT: lake.do JSDoc STABILITY.md link broken - file does not exist at referenced path","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:11.679124-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:32:10.633321-06:00","closed_at":"2026-01-23T02:32:10.633321-06:00","close_reason":"Link points to GitHub URL which is correct - STABILITY.md exists at docs/STABILITY.md"}
{"id":"sql-2ks","title":"[REFACTOR] Type Narrowing Fixes - Fix Date|number and array access type issues","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:44.785572-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:31.476899-06:00","closed_at":"2026-01-22T11:03:31.476899-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-2ks","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:40:59.079008-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-2mg","title":"REFACTOR: Add error boundary for WebSocket message parsing to prevent silent failures","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:21.24486-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:45:27.185623-06:00","closed_at":"2026-01-22T18:45:27.185623-06:00","close_reason":"Added comprehensive error boundary for WebSocket message parsing. Changes: 1) Created MessageParseError class in errors.ts for message parsing failures. 2) Enhanced handleMessage in client.ts with 7-step validation: UTF-8 decoding, JSON parsing, response structure validation, response ID validation, pending request matching, error structure validation, and proper resolve/reject handling. 3) Added ErrorEvent type and 'error' event to ClientEventMap for error reporting. 4) All errors are now properly logged, emitted via events, and associated pending requests are rejected with meaningful errors instead of silently failing."}
{"id":"sql-2pea","title":"REFACTOR: Extract WebSocket connection management to separate class in client.ts","description":"DoLakeClient handles both connection management and lake operations. The ensureConnection() method (lines 389-444) and close() method contain WebSocket lifecycle logic that could be extracted to a WebSocketConnection class. This would: 1) Improve testability 2) Enable reuse in other contexts 3) Separate connection concerns from business logic 4) Make reconnection logic easier to implement","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:37.322834-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:21.397993-06:00","closed_at":"2026-01-22T17:19:21.397993-06:00","close_reason":"Extracted WebSocket connection management into connection/manager.ts with WebSocketConnectionManager and ConnectionEventEmitter"}
{"id":"sql-2qw","title":"[RED] BenchmarkTestDO.execMany - Tests for batch execution in benchmark DO","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:52.080896-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:30.047339-06:00","closed_at":"2026-01-22T11:03:30.047339-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-2qw","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:15.54078-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-2rn","title":"[GREEN] R2 Circuit Breaker - Implement circuit breaker in R2 backend","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:47.239326-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:30.05508-06:00","closed_at":"2026-01-22T11:03:30.05508-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-2rn","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:12.262426-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-2sgp","title":"RED: Add test coverage reporting to CI pipeline","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:51:10.067729-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:09:31.178023-06:00","closed_at":"2026-01-22T17:09:31.178023-06:00","close_reason":"Closed"}
{"id":"sql-2so","title":"EDIT: README missing on() and off() event listener API documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:58.493012-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:57:05.372136-06:00","closed_at":"2026-01-22T18:57:05.372136-06:00","close_reason":"Added documentation for on() and off() event listener API methods, ClientEventMap, ConnectedEvent, DisconnectedEvent, and ErrorEvent types to README.md. Updated Table of Contents to include Event Types section. Added 'Event listeners (on, off)' to the Stable APIs list."}
{"id":"sql-2uf1","title":"DOCS: Deployment Guide - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:21.907152-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:28:16.480676-06:00","closed_at":"2026-01-23T12:28:16.480676-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-2uf1","depends_on_id":"sql-vdpv","type":"blocks","created_at":"2026-01-23T12:02:37.663045-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-2zr","title":"REFACTOR: Replace regex-based schema parsing with proper TypeScript AST parsing","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:48.602076-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T03:32:25.818031-06:00","closed_at":"2026-01-23T03:32:25.818031-06:00","close_reason":"Closed"}
{"id":"sql-302x","title":"EDIT: README.md - Add performance benchmarks section with metrics","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:31.431003-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:03:38.425577-06:00","closed_at":"2026-01-22T19:03:38.425577-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-30y","title":"REFACTOR: Extract error classes to separate errors.ts module","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:55.213617-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:17:53.454977-06:00","closed_at":"2026-01-22T17:17:53.454977-06:00","close_reason":"Extracted error classes (SQLError, ConnectionError, TimeoutError) to /Users/nathanclevenger/projects/sql/packages/sql.do/src/errors.ts module"}
{"id":"sql-32y4","title":"Fix concurrent planning sequential IDs and reset safety (2 tests)","status":"open","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:52.385486-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:52.385486-06:00"}
{"id":"sql-33b2","title":"REFACTOR: Extract calculatePercentile utility function from DurabilityWriter","description":"The calculatePercentile function is defined inline within getLatencyPercentiles method. Extract it to a shared utility module for reuse and better testability.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:03.376949-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:15:37.512573-06:00","closed_at":"2026-01-22T17:15:37.512573-06:00","close_reason":"Created calculatePercentile utility in utils/math.ts and updated 5 callers: benchmarks/types.ts, wal/retention.ts, logging/index.ts, performance.test.ts, production-benchmarks.test.ts"}
{"id":"sql-34r","title":"EDIT: getting-started.md - Add error handling section for common setup failures","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:23.879433-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:42:48.995976-06:00","closed_at":"2026-01-23T02:42:48.995976-06:00","close_reason":"Closed"}
{"id":"sql-3676","title":"EDIT: README.md - Add Cloudflare Durable Objects prerequisite and deployment instructions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:07.156717-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:11:27.56379-06:00","closed_at":"2026-01-22T19:11:27.56379-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-389b","title":"EDIT: README.md - Add documentation for HTTP CDC endpoint POST /cdc","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:54.108715-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:55:09.994978-06:00","closed_at":"2026-01-22T19:55:09.994978-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-38h","title":"[EDIT] Enhance API Reference - Add more examples to packages/dosql/docs/api-reference.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:46.024459-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:49:23.745726-06:00","closed_at":"2026-01-22T08:49:23.745726-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-38h","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:07.566479-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-3ad","title":"EDIT: lake.do README.md missing error handling section with LakeError/ConnectionError/QueryError","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:01.220129-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:52.31791-06:00","closed_at":"2026-01-22T17:19:52.31791-06:00","close_reason":"Added error handling section with LakeError, ConnectionError, QueryError documentation and error codes"}
{"id":"sql-3c2i","title":"EDIT: shared-types index.ts LegacyResult types missing @deprecated JSDoc tag","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:46.930619-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:18:21.498758-06:00","closed_at":"2026-01-22T17:18:21.498758-06:00","close_reason":"Added @deprecated tag to LegacyResult and helper functions"}
{"id":"sql-3cv","title":"REFACTOR: Remove dead code - RPCRequest method type cast on line 957","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:11.364772-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:21:58.201774-06:00","closed_at":"2026-01-22T18:21:58.201774-06:00","close_reason":"Intentional type assertion - rpc() method accepts string for flexibility while RPCRequest requires specific union type"}
{"id":"sql-3imj","title":"EDIT: index.ts stability annotations inconsistent - some exports marked stable but missing @stability tag","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:39.983655-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:46:35.928287-06:00","closed_at":"2026-01-22T19:46:35.928287-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-3m19","title":"DOCS: Getting Started Guide - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:01:27.873822-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:26:59.282216-06:00","closed_at":"2026-01-23T12:26:59.282216-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-3m19","depends_on_id":"sql-ntgh","type":"blocks","created_at":"2026-01-23T12:01:27.874864-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-3m19","depends_on_id":"sql-9dj0","type":"blocks","created_at":"2026-01-23T12:01:42.163378-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-3mpe","title":"REFACTOR: Split triggers/executor.ts (1298 lines) into JS and SQL trigger executors","description":"The triggers/executor.ts file contains both JavaScript and SQL trigger execution logic interleaved. Extract SQLTriggerExecutor into a separate module and share common base functionality through composition. The file handles: context building, direct execution, sandboxed execution, SQL trigger parsing, RAISE function handling, WHEN clause evaluation, and UPDATE OF column tracking.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:04.170277-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T03:32:25.693719-06:00","closed_at":"2026-01-23T03:32:25.693719-06:00","close_reason":"Closed"}
{"id":"sql-3ncx","title":"EDIT: dosql-cli - Document migration naming convention (numeric prefix sorting)","description":"findMigrations sorts by name using localeCompare, expecting numeric prefixes like '001_', '002_'. This convention is only mentioned in a code comment. Need to document the expected naming convention for users (e.g., in README or inline JSDoc).","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:41.289415-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:25:03.331183-06:00","closed_at":"2026-01-22T17:25:03.331183-06:00","close_reason":"README.md 'Migration Naming Convention' section documents numeric prefix sorting (001_, 002_, 003_) under the migrate command"}
{"id":"sql-3np","title":"[WRITE] Vector Search Guide - packages/dosql/docs/vector-search.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:40.995102-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:49.144108-06:00","closed_at":"2026-01-22T08:47:49.144108-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-3np","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:03.494564-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-3qnn","title":"EDIT: README.md - Add missing /errors subpath to Module Exports section","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:20.373022-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:35:02.604617-06:00","closed_at":"2026-01-22T18:35:02.604617-06:00","close_reason":"Won't fix: There is no /errors subpath export in the package - SQLError, ConnectionError, and TimeoutError are exported from the main entry point (index.ts). Adding a separate /errors subpath would be over-engineering since error classes are already accessible via the main import."}
{"id":"sql-3sj","title":"[WRITE] Astro Integration Guide - docs/integrations/ASTRO.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:50.305497-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:59.8894-06:00","closed_at":"2026-01-22T11:03:59.8894-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-3sj","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:11.780202-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-3wrv","title":"EDIT: shared-types index.ts CDCEvent interface missing JSDoc @example usage","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:34.489808-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:16:41.19869-06:00","closed_at":"2026-01-22T19:16:41.19869-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-3xb","title":"EDIT: Create CHANGELOG.md file to track version history","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:21.631912-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:42:49.039779-06:00","closed_at":"2026-01-23T02:42:49.039779-06:00","close_reason":"Closed"}
{"id":"sql-3xkq","title":"REFACTOR: Consider using EventEmitter pattern for client events instead of manual Map","description":"DoLakeClient manually implements event emitter pattern (lines 142, 253-331) using Map\u003cLakeClientEventType, Set\u003cLakeClientEventHandler\u003e\u003e. Consider: 1) Use Node.js EventEmitter or a lightweight alternative 2) Extract to a TypedEventEmitter class with generic type parameters 3) Add proper TypeScript typings for event payloads 4) Current emit() swallows errors (line 326-328) which may hide bugs","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:05.561018-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:46:49.878345-06:00","closed_at":"2026-01-22T18:46:49.878345-06:00","close_reason":"Current Map\u003ceventType, Set\u003clistener\u003e\u003e implementation is the correct approach. Benefits: (1) Excellent TypeScript type safety via ClientEventMap generics, (2) Zero dependencies - works in browsers, Node.js, Cloudflare Workers without polyfills, (3) Only ~50 lines for a small event surface (3 events), (4) Already has error isolation in emit(), chainable on()/off() API. EventEmitter would add unnecessary complexity, bundle size, and platform compatibility concerns without meaningful benefits for this simple use case."}
{"id":"sql-42k","title":"[WRITE] Security Model Guide - docs/SECURITY_MODEL.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:42.647792-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:27.762711-06:00","closed_at":"2026-01-22T08:47:27.762711-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-42k","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:04.363789-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-42z5","title":"EDIT: lake.do README.md missing resource cleanup section (always call close())","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:03.912514-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:49.57712-06:00","closed_at":"2026-01-22T17:19:49.57712-06:00","close_reason":"Added resource cleanup section to README with try/finally pattern and event listener examples"}
{"id":"sql-44b","title":"EDIT: dosql-cli - Create README.md with installation, usage, and API documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:37.285962-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:18:22.814712-06:00","closed_at":"2026-01-22T17:18:22.814712-06:00","close_reason":"Created comprehensive README.md with installation instructions, command documentation, schema format reference, programmatic API examples, and type exports"}
{"id":"sql-44jy","title":"REFACTOR: Add JSDoc @internal annotations to truly internal methods for API clarity","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:28.992681-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:21:02.962668-06:00","closed_at":"2026-01-22T17:21:02.962668-06:00","close_reason":"Added @internal JSDoc annotations to private methods in DoLakeClient (ensureConnection, handleMessage, rpc) in sql-0uw3"}
{"id":"sql-46b","title":"[GREEN] Distributed Transactions - Implement 2PC for cross-shard writes","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:41.996781-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:30.062904-06:00","closed_at":"2026-01-22T11:03:30.062904-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-46b","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:05.336957-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-480c","title":"Add middleware module tests","description":"\n## Problem\nMiddleware module has NO tests:\n- src/middleware/router.ts (15KB)\n- src/middleware/rpc.ts\n- src/middleware/auth.ts\n\n## TDD Approach\n\n### RED Phase\n- Create src/middleware/__tests__/router.test.ts\n- Create src/middleware/__tests__/rpc.test.ts\n- Test: HTTP request routing\n- Test: RPC protocol handling\n- Test: Auth middleware chain\n- Test: Error response formatting\n\n### GREEN Phase\n- Add tests for each middleware function\n- Mock HTTP context for unit tests (acceptable here - testing middleware, not DB)\n\n### REFACTOR Phase\n- Extract protocol handlers from router\n- Add request validation middleware\n\n## Files\n- packages/dosql/src/middleware/__tests__/router.test.ts (new)\n- packages/dosql/src/middleware/__tests__/rpc.test.ts (new)\n","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:07:54.554798-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:21.008605-06:00","closed_at":"2026-01-30T10:42:21.008605-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-4a7z","title":"DOCS: Security Model - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:21.125248-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:28:16.475176-06:00","closed_at":"2026-01-23T12:28:16.475176-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-4a7z","depends_on_id":"sql-zzy3","type":"blocks","created_at":"2026-01-23T12:02:38.557646-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-4am","title":"[RED] CLI Tool - Tests for dosql init, migrate, shell commands","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:51.051466-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:53.611332-06:00","closed_at":"2026-01-22T08:47:53.611332-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-4am","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:14.627161-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-4b6","title":"FIX: Memory leak in shared-types Maps (stringWrappers/lsnWrappers)","description":"Architecture Review: Maps grow unbounded. Add TTL/WeakRef cleanup mechanism.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:50:57.833342-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:12:14.783289-06:00","closed_at":"2026-01-22T12:12:14.783289-06:00","close_reason":"GREEN phase complete - tests passing"}
{"id":"sql-4by","title":"TDD: Implement benchmark suite vs D1/DO-SQLite","description":"Product Review: Need production benchmarks comparing DoSQL to D1 and DO SQLite. Create packages/dosql/benchmark/ with adapters, scenarios, runner, and visualization.","status":"closed","priority":0,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:47.721478-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:13:01.73102-06:00","closed_at":"2026-01-22T14:13:01.73102-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-4ccu","title":"EDIT: api-reference.md - Document BatchRequest atomic vs continueOnError tradeoffs","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:23.96547-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:30:17.521007-06:00","closed_at":"2026-01-22T19:30:17.521007-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-4eu","title":"REFACTOR: Create dedicated WebSocket connection manager class","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:03.840007-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:17:54.70773-06:00","closed_at":"2026-01-22T17:17:54.70773-06:00","close_reason":"Created dedicated ConnectionManager class in /Users/nathanclevenger/projects/sql/packages/sql.do/src/connection-manager.ts for WebSocket connection management with pool support"}
{"id":"sql-4kzw","title":"EDIT: lake.do README.md missing debugging section for troubleshooting connections","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:04.8482-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:51.011875-06:00","closed_at":"2026-01-22T17:19:51.011875-06:00","close_reason":"Added debugging section to README with troubleshooting steps for connection, timeout, and CDC issues"}
{"id":"sql-4pz","title":"REFACTOR: Break down parseSchemaFile into smaller single-responsibility functions","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:42.493365-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:38:23.111173-06:00","closed_at":"2026-01-22T18:38:23.111173-06:00","close_reason":"Refactored parseSchemaFile into 5 smaller single-responsibility functions: TABLE_EXPORT_REGEX and COLUMN_DEFINITION_REGEX as named constants with JSDoc, parseColumnDefinition for parsing individual column matches, parseColumnsBlock for parsing the columns block, parseTableDefinition for parsing table definition matches, and extractTableSchemas for extracting schemas from content. All tests pass."}
{"id":"sql-52k2","title":"EDIT: README.md - Document pre-parse size validation security feature","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:11.131063-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:07:37.040602-06:00","closed_at":"2026-01-22T19:07:37.040602-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-55v","title":"REFACTOR: Add generic type constraint for pendingRequests Map resolve callback","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:12.576199-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:40:28.462882-06:00","closed_at":"2026-01-22T18:40:28.462882-06:00","close_reason":"Added PendingRequest\u003cT = unknown\u003e interface with proper generic type constraint for resolve/reject callbacks. The pendingRequests Map now uses Map\u003cstring, PendingRequest\u003e instead of inline object type. Interface includes JSDoc documentation explaining the type erasure pattern for storing multiple concurrent requests with different response types."}
{"id":"sql-575a","title":"EDIT: shared-types index.ts isServerCDCEvent/isClientCDCEvent missing @param and @returns JSDoc tags","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:33.447352-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:16:41.223226-06:00","closed_at":"2026-01-22T19:16:41.223226-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-59ps","title":"EDIT: shared-types index.ts PreparedStatement interface missing JSDoc documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:38.917803-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:18:18.909613-06:00","closed_at":"2026-01-22T17:18:18.909613-06:00","close_reason":"Added JSDoc with @example to PreparedStatement interface"}
{"id":"sql-5aa","title":"REFACTOR: Add type-safe column regex capture group extraction","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:49.80189-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:56:36.436873-06:00","closed_at":"2026-01-22T18:56:36.436873-06:00","close_reason":"Added type-safe column regex capture group extraction with named indices and helper functions"}
{"id":"sql-5fnv","title":"EDIT: README missing RPCErrorCode enum documentation and usage examples","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:41.26007-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:19:38.339036-06:00","closed_at":"2026-01-22T19:19:38.339036-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-5hy","title":"REFACTOR: Add validation for missing tableName or columns in schema parsing","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:02.206605-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:41:17.363874-06:00","closed_at":"2026-01-22T18:41:17.363874-06:00","close_reason":"Added validation for missing tableName or columns in schema parsing. Introduced SchemaParseError class with context (file path, variable name, table name). parseTableDefinition now throws with helpful error messages when tableName is missing, empty, or whitespace-only. parseColumnsBlock now throws when no valid columns are found. All errors include usage examples and are user-friendly."}
{"id":"sql-5is","title":"REFACTOR: ensureConnection method is 45 lines - extract event handler setup","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:04.708051-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:37:22.215512-06:00","closed_at":"2026-01-22T18:37:22.215512-06:00","close_reason":"Extracted WebSocket event handler setup from ensureConnection into private setupWebSocketHandlers method. ensureConnection is now 10 lines (down from 45). No behavioral changes."}
{"id":"sql-5j7u","title":"EDIT: README.md - Document analytics events P2 durability feature","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:06.051387-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:34:54.070299-06:00","closed_at":"2026-01-22T19:34:54.070299-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-5k9n","title":"REFACTOR: Remove dead code - runWrapperCacheCleanup is a no-op","description":"The function runWrapperCacheCleanup() at line 117-120 is exported but does nothing (empty implementation). The comment says 'TTL mode cleanup would go here' and 'this is a placeholder'. Either implement TTL mode functionality or remove this dead code. Tests in memory-cleanup.test.ts show TTL mode test is marked as .fails, confirming this feature is not implemented.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:05.142363-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:20:07.502056-06:00","closed_at":"2026-01-22T18:20:07.502056-06:00","close_reason":"Closed"}
{"id":"sql-5ki","title":"[EDIT] Add Benchmark Results - Add performance numbers to docs/PERFORMANCE_TUNING.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:47.387943-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:48:22.51388-06:00","closed_at":"2026-01-22T08:48:22.51388-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-5ki","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:09.217543-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-5kyd","title":"DOCS: D1 Migration - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:23.695611-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:20:27.737971-06:00","closed_at":"2026-01-23T12:20:27.737971-06:00","close_reason":"Closed"}
{"id":"sql-5p4","title":"[RED] CDC Global Ordering - Tests for causal ordering across shards with HLC","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:43.262606-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:31.901218-06:00","closed_at":"2026-01-22T08:47:31.901218-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-5p4","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:06.029708-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-5pyn","title":"REFACTOR: QueryResponse has inconsistent duration fields (executionTimeMs vs duration)","description":"QueryResponse interface has both 'executionTimeMs' (line 728) and 'duration' (line 730) fields with comment 'Alternative timing field (for compatibility)'. Similarly QueryResult has just 'duration'. The responseToResult converter handles both (line 1234). Consider deprecating one field and standardizing on a single name to reduce API surface and confusion.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:46.922389-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:21:31.033769-06:00","closed_at":"2026-01-22T17:21:31.033769-06:00","close_reason":"Closed"}
{"id":"sql-5ysm","title":"EDIT: shared-types branded-types.test.ts has redundant declare statements at bottom that shadow actual imports","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:24.38377-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:30:23.260446-06:00","closed_at":"2026-01-22T18:30:23.260446-06:00","close_reason":"Already fixed: No declare statements found in branded-types.test.ts. The file uses proper imports from '../index.js' (lines 15-48)."}
{"id":"sql-615a","title":"REFACTOR: Split router.ts SQLParser class into dedicated parser module","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:46.632456-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T03:32:25.770407-06:00","closed_at":"2026-01-23T03:32:25.770407-06:00","close_reason":"Closed"}
{"id":"sql-6el4","title":"EDIT: dosql-cli - Add example code demonstrating programmatic API usage","description":"The package exports functions for programmatic use (initProject, findMigrations, runMigrations, generateTypes) but there are no documented examples showing how to use them programmatically. README should include examples of calling these functions directly from code.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:49.750847-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:24:15.15893-06:00","closed_at":"2026-01-22T17:24:15.15893-06:00","close_reason":"README.md already includes comprehensive programmatic API examples in the 'Programmatic API' section, demonstrating createCLI, initProject, generateTypes, findMigrations, runMigrations, and database connection usage"}
{"id":"sql-6f8l","title":"Fix production benchmark memory tests (5 tests)","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:45.668447-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:45.668447-06:00"}
{"id":"sql-6fpt","title":"DOCS: Advanced Usage - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:28.315262-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:28:16.48594-06:00","closed_at":"2026-01-23T12:28:16.48594-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-6fpt","depends_on_id":"sql-91ey","type":"blocks","created_at":"2026-01-23T12:02:42.484531-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-6gga","title":"EDIT: getting-started.md - Add wrangler.toml configuration example for DoSQL setup","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:08.499856-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:14:35.533437-06:00","closed_at":"2026-01-22T19:14:35.533437-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-6hq5","title":"REFACTOR: Extract CRC32 implementation to shared crypto utilities","description":"wal/writer.ts contains a CRC32 implementation (lines 39-60) with a pre-computed lookup table. This checksum utility could be used elsewhere and should be extracted to a shared 'crypto' or 'checksum' utilities module. The current implementation is well-optimized with a static table.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:31.011353-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:54:47.583256-06:00","closed_at":"2026-01-22T18:54:47.583256-06:00","close_reason":"Refactored CRC32 implementations: Removed duplicate CRC32 implementations from packages/dosql/src/wal/writer.ts and packages/dosql/src/r2-index/writer.ts, consolidating them to use the shared implementation in packages/dosql/src/utils/crypto.ts. Both files now import and re-export crc32 from the shared utility for backward compatibility. All tests pass (r2-index: 103 passed, wal: 70 passed, replication: 262 passed)."}
{"id":"sql-6id","title":"FIX: Use LSN branded type in WALCapturer.setPosition","description":"TypeScript Review: capture.ts:353 uses bigint instead of LSN branded type. Update interface signature.","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:25.096308-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:26:04.757983-06:00","closed_at":"2026-01-22T12:26:04.757983-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-6iz","title":"EDIT: README missing connect() and isConnected() API documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:57.338448-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:55:56.30899-06:00","closed_at":"2026-01-22T18:55:56.30899-06:00","close_reason":"Added documentation for connect() and isConnected() methods to README.md - updated Stable APIs section and added detailed API reference entries with examples"}
{"id":"sql-6jf","title":"[RED] Production Benchmarks - Tests asserting latency and throughput targets","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:48.964237-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:56.235496-06:00","closed_at":"2026-01-22T08:47:56.235496-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-6jf","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:12.558069-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-6kz","title":"[WRITE] Transactions Guide - docs/TRANSACTIONS.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:39.50941-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:48:32.645434-06:00","closed_at":"2026-01-22T08:48:32.645434-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-6kz","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:01.420241-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-6lev","title":"DOCS: Astro Integration - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:28.82953-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:26:14.16242-06:00","closed_at":"2026-01-23T12:26:14.16242-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-6lev","depends_on_id":"sql-kqqw","type":"blocks","created_at":"2026-01-23T12:02:42.857775-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-6n5","title":"REFACTOR: Extract branded type factory function pattern to reduce duplication in types.ts","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:45.11105-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:13.171603-06:00","closed_at":"2026-01-22T17:19:13.171603-06:00","close_reason":"Extracted branded type factory function pattern into branded-types.ts with createBrandedTypeFactory and createBrandedTypeGuard utilities"}
{"id":"sql-6n53","title":"Fix benchmark cold start timing flakes (2 tests)","status":"open","priority":3,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:56.556204-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:56.556204-06:00"}
{"id":"sql-6ned","title":"DOCS: Getting Started Guide - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:01:28.869514-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:47:13.511225-06:00","closed_at":"2026-01-23T12:47:13.511225-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-6ned","depends_on_id":"sql-ntgh","type":"blocks","created_at":"2026-01-23T12:01:28.870712-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-6ned","depends_on_id":"sql-3m19","type":"blocks","created_at":"2026-01-23T12:01:43.016606-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-6ojk","title":"REFACTOR: Simplify BTreeImpl initialization pattern","description":"BTreeImpl in btree/btree.ts requires calling init() after construction. This two-phase initialization is error-prone. Consider using a factory function that returns a Promise\u003cBTree\u003e instead, or making the constructor private and using a static async create() method pattern to ensure proper initialization.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:44.929243-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:15:42.663505-06:00","closed_at":"2026-01-22T17:15:42.663505-06:00","close_reason":"Closed"}
{"id":"sql-6q8","title":"[RED] Structured Logging - Tests for consistent logging with trace IDs","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:49.998801-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:33.561873-06:00","closed_at":"2026-01-22T08:47:33.561873-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-6q8","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:13.454584-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-6s3i","title":"README: lake.do Landing - Storybrand EDIT","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:23.162517-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:25:26.197467-06:00","closed_at":"2026-01-23T12:25:26.197467-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-6s3i","depends_on_id":"sql-r9ox","type":"blocks","created_at":"2026-01-23T12:02:33.493896-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-6s4","title":"EDIT: lake.do README.md Types section incomplete - missing many exported types","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:21.562817-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:36:43.489456-06:00","closed_at":"2026-01-23T02:36:43.489456-06:00","close_reason":"Closed"}
{"id":"sql-6ut","title":"REFACTOR: Add type safety - reduce use of 'as any' in client.ts type assertions","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:52.610932-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:51:12.777102-06:00","closed_at":"2026-01-22T18:51:12.777102-06:00","close_reason":"Replaced 'as any' in eventListeners Map with type-safe EventListenerStore mapped type. Created a strongly-typed object literal with explicit Set types for each event, eliminating the need for type assertions. All 72 client tests pass."}
{"id":"sql-73n6","title":"EDIT: Error message in ConnectionError constructor should include URL for debugging","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:19.338991-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:26:30.007902-06:00","closed_at":"2026-01-22T19:26:30.007902-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-746g","title":"REFACTOR: Consolidate duplicated sendNack/sendAck helper methods in WebSocketHandler","description":"The WebSocketHandler has duplicated code across sendNack, sendNackWithRateLimit, sendPreParseNack methods, and similarly for sendAck, sendAckWithRateLimit. Extract common logic into a single parameterized helper method.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:57.113687-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:41:33.783757-06:00","closed_at":"2026-01-22T18:41:33.783757-06:00","close_reason":"Consolidated duplicated sendNack/sendAck methods: merged sendAck+sendAckWithRateLimit into single sendAck with optional rateLimit param; merged sendNack+sendNackWithRateLimit+sendPreParseNack into sendNackOptions with named options object for clarity. All call sites updated. TypeScript compiles successfully."}
{"id":"sql-74g","title":"EDIT: dosql-cli - Add inline comment explaining tableNameToInterfaceName singularization logic","description":"The tableNameToInterfaceName function has a simple singularization approach (removes trailing 's'). This has edge cases (e.g., 'address' becomes 'addres', 'status' becomes 'statu'). Add inline comment documenting known limitations and rationale for the simple approach.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:26.030482-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:22:35.805001-06:00","closed_at":"2026-01-22T17:22:35.805001-06:00","close_reason":"Added inline comment explaining tableNameToInterfaceName singularization logic with known limitations (address, status, irregular plurals) and rationale for simple approach"}
{"id":"sql-76z","title":"REFACTOR: Replace 'as unknown as string' type casts with proper type guards in client.ts","description":"Multiple locations use unsafe 'as unknown as string' casts for branded type conversions: getMetadata() lines 626, 633, 638; listSnapshots() lines 816, 822; listPartitions() line 675; transformCompactionJob() lines 753, 754. Consider: 1) Improve RPC response types to be more specific 2) Add type guards for server responses 3) Use generics to handle branded type conversions","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:05.699207-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:22.786022-06:00","closed_at":"2026-01-22T17:19:22.786022-06:00","close_reason":"Replaced as unknown as string type casts with proper type guards in transformers.ts and improved iterator done results in controller.ts"}
{"id":"sql-7ab","title":"REFACTOR: Add missing real/blob type coverage in mapSqlTypeToTs","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:59.169652-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:27:34.338302-06:00","closed_at":"2026-01-22T18:27:34.338302-06:00","close_reason":"Already implemented: mapSqlTypeToTs in generate.ts handles 'real' (returns 'number') and 'blob' (returns 'Uint8Array') since the initial implementation. See lines 30-37."}
{"id":"sql-7be6","title":"EDIT: README.md - Add table of WebSocket close codes and their meanings","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:40.555628-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:14:35.70602-06:00","closed_at":"2026-01-22T19:14:35.70602-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-7c4","title":"REFACTOR: Improve singularization logic in tableNameToInterfaceName function","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:50.622086-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:38:03.18234-06:00","closed_at":"2026-01-22T18:38:03.18234-06:00","close_reason":"Improved singularization logic in tableNameToInterfaceName: added irregular plurals mapping (people-\u003eperson, children-\u003echild, etc.), non-plural words ending in s (status, address, etc.), and rules for -ies, -ses, -xes, -ches, -shes, -oes, -ves endings"}
{"id":"sql-7dy","title":"DOCS: Create ROADMAP.md with milestone definitions","description":"Product Review: No public roadmap. Create ROADMAP.md defining v0.1.0, v0.2.0, v1.0 criteria.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:27.084237-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:26:04.736091-06:00","closed_at":"2026-01-22T12:26:04.736091-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-7e82","title":"SQLLogicTest CREATE INDEX - uniqueness, pragma, EXPLAIN (4 tests)","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:41.03521-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:41.03521-06:00"}
{"id":"sql-7ezy","title":"REFACTOR: LRU array operations are O(n) - consider using doubly-linked list","description":"The LRU tracking uses arrays (lsnLruOrder, stringLruOrder) with indexOf() and splice() operations (lines 151-170). These are O(n) operations that can become expensive with large caches (DEFAULT_MAX_WRAPPER_CACHE_SIZE = 10000). Test comment on line 413-414 acknowledges this: 'reduced from 100k for performance - LRU array operations are O(n)'. Consider using a doubly-linked list with a Map for O(1) LRU operations.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:12.101497-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:46:42.563327-06:00","closed_at":"2026-01-22T18:46:42.563327-06:00","close_reason":"Analysis: The current LRU cache implementation uses JavaScript's built-in Map which maintains insertion order. The 'LRU operations' in question are the delete-then-set pattern on lines 119-120 (get) and 137-139 (set) which move entries to the end. Map.delete() and Map.set() are O(1) operations, NOT O(n) array operations. The only iteration is in cleanup() which scans expired entries, but this is necessary for any TTL-based cache. Cache sizes are configured at 1000 entries max (see client.ts:589 and idempotency.ts:188). For 1000 entries, even if operations were O(n), they would complete in microseconds. A doubly-linked list would add complexity (node allocation, pointer maintenance) with no measurable benefit. The current Map-based approach is efficient, idiomatic JavaScript, and appropriate for the use case. NO REFACTORING NEEDED."}
{"id":"sql-7ll","title":"FEAT: Add CI/CD GitHub Actions workflow","description":"Testing Review: No CI/CD workflow found. Add GitHub Actions for automated testing on push/PR.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:22.90645-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:26:04.645551-06:00","closed_at":"2026-01-22T12:26:04.645551-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-7loi","title":"DOCS: SvelteKit Integration - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:19.178604-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:20:43.921794-06:00","closed_at":"2026-01-23T12:20:43.921794-06:00","close_reason":"Closed"}
{"id":"sql-7olk","title":"REFACTOR: Extract getOrCreateIpState and getOrCreateSubnetState patterns in rate-limiter.ts","description":"The getOrCreateIpState and getOrCreateSubnetState methods share identical patterns for creating state objects if not present. Could be generalized to a single getOrCreate helper.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:37.964796-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:53:17.740308-06:00","closed_at":"2026-01-22T18:53:17.740308-06:00","close_reason":"Extracted common getOrCreateState helper function from getOrCreateIpState and getOrCreateSubnetState in rate-limiter.ts. Both methods now delegate to the shared helper, reducing code duplication. All 54 rate-limiting tests pass."}
{"id":"sql-7pqo","title":"[GREEN] Fix failing tests in query-plan-cache.test.ts","description":"Fix 10 failing tests in packages/dosql/src/__tests__/query-plan-cache.test.ts\n\n## Failing Test Categories:\n- Parameterized query normalization for caching\n- Cache stats via PRAGMA\n- List cached plans via PRAGMA\n- Clear cache via PRAGMA\n- Configure cache via PRAGMA\n- View specific cached plan via PRAGMA\n- Cache hit rate threshold via PRAGMA\n- Cache integration with query execution\n- Cost-based optimizer plan caching\n\n## Test Patterns:\n- it.fails('should normalize query with parameters for caching')\n- it.fails('should expose cache stats via PRAGMA')\n- it.fails('should list cached plans via PRAGMA')\n- it.fails('should integrate cache with query execution')\n- it.fails('should cache optimized plans from cost-based optimizer')","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:23:06.294589-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:17:42.757884-06:00","closed_at":"2026-01-23T10:17:42.757884-06:00","close_reason":"Closed"}
{"id":"sql-7rtp","title":"EDIT: README.md - Document load levels (normal, elevated, high, critical)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:51.40396-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:11:27.66112-06:00","closed_at":"2026-01-22T19:11:27.66112-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-7rz","title":"REFACTOR: Split distributed-tx.ts (43KB)","description":"Architecture Review: distributed-tx.ts has coordinator, participant, cross-shard executor, error types, mock RPC in one file. Split into separate modules.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:21.069484-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:28:32.319593-06:00","closed_at":"2026-01-22T14:28:32.319593-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-7tk","title":"EDIT: lake.do index.ts JSDoc example dates use 2024 - should use 2026","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:13.090759-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:13.434446-06:00","closed_at":"2026-01-22T17:20:13.434446-06:00","close_reason":"Updated JSDoc examples in index.ts from 2024 to 2026"}
{"id":"sql-7v5g","title":"REFACTOR: R2IcebergStorage has duplicated path normalization logic","description":"Methods writeDataFile, readDataFile, deleteDataFile, listDataFiles, writeMetadata, and readMetadata all contain the same path normalization pattern: 'const fullPath = path.startsWith(this.basePath) ? path : ${this.basePath}/${path}'. Extract to a private normalizePath helper.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:43.572398-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:16:09.223617-06:00","closed_at":"2026-01-22T17:16:09.223617-06:00","close_reason":"Closed"}
{"id":"sql-83o","title":"[WRITE] SvelteKit Integration Guide - docs/integrations/SVELTEKIT.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:49.207905-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:31.392447-06:00","closed_at":"2026-01-22T11:03:31.392447-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-83o","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:10.569651-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-84y","title":"EDIT: dosql-cli - Add JSDoc comments to migrate.ts exported functions and interfaces","description":"findMigrations and runMigrations functions lack JSDoc documentation. Migration, MigrateOptions, and MigrateResult interfaces need documentation explaining their fields. Need @param, @returns, @throws, and @example tags.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:59.768919-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:12.991525-06:00","closed_at":"2026-01-22T17:20:12.991525-06:00","close_reason":"Added comprehensive JSDoc comments to migrate.ts including module documentation, all interface property descriptions, and function documentation with examples for Migration, MigrateOptions, MigrateResult, MigrationConnection, and all exported functions"}
{"id":"sql-866f","title":"EDIT: README.md - Add API stability/maturity indicators to module list","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:12.795608-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:11:27.538746-06:00","closed_at":"2026-01-22T19:11:27.538746-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-87a6","title":"[GREEN] Fix failing tests in e2e-lakehouse.test.ts","description":"Fix 17 failing tests in packages/dosql/src/__tests__/e2e-lakehouse.test.ts\n\n## Failing Test Categories:\n- Batch INSERT to Parquet file\n- Large batch splitting across Parquet files\n- Mixed INSERT/UPDATE/DELETE batch handling\n- Atomic transaction propagation\n- Rolled back transaction handling\n- Schema evolution (ADD COLUMN, version tracking)\n- Cross-version queries\n- Error recovery (manifest corruption, CDC reconnection)\n- Checkpoint resume after restart\n- LSN gap detection\n- Data checksum verification\n- Chunk compaction\n- Special character handling\n\n## Test Patterns:\n- it.fails('should batch multiple INSERTs into single Parquet file')\n- it.fails('should propagate entire transaction atomically')\n- it.fails('should handle ADD COLUMN schema evolution')\n- it.fails('should recover from manifest corruption')\n- it.fails('should verify data checksum between DoSQL and Lakehouse')","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:22:58.112559-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:17:42.755914-06:00","closed_at":"2026-01-23T10:17:42.755914-06:00","close_reason":"Closed"}
{"id":"sql-87r","title":"[REFACTOR] Reduce as-any Casts - Reduce 412 as any casts by improving interfaces","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:36.840369-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:31.671852-06:00","closed_at":"2026-01-22T11:03:31.671852-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-87r","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:40:51.987636-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-8e8h","title":"REFACTOR: serverToClientCDCEvent and clientToServerCDCEvent have similar structure - extract common logic","description":"The CDC event converter functions (lines 1167-1222) share structural similarity: create result object, copy common fields, conditionally copy optional fields. Consider extracting a generic bidirectional converter pattern or using a shared field mapping configuration to reduce duplication and make the conversion logic more declarative and easier to maintain.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:05.552614-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:24:26.937716-06:00","closed_at":"2026-01-22T17:24:26.937716-06:00","close_reason":"Closed"}
{"id":"sql-8e97","title":"EDIT: Add missing CHANGELOG.md file for dolake package","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:52.206737-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:27:33.28728-06:00","closed_at":"2026-01-22T17:27:33.28728-06:00","close_reason":"Closed"}
{"id":"sql-8gvq","title":"EDIT: Add inline comment explaining WebSocket auto-response ping/pong setup","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:43.467028-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:32:14.954931-06:00","closed_at":"2026-01-22T18:32:14.954931-06:00","close_reason":"Already documented: setupWebSocketAutoResponse function has JSDoc comment (websocket-handler.ts:742) and usage site has inline comment (dolake.ts:346). Both explain the ping/pong auto-response purpose."}
{"id":"sql-8ie1","title":"DOCS: Remix Integration - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:25.286789-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:26:14.160177-06:00","closed_at":"2026-01-23T12:26:14.160177-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-8ie1","depends_on_id":"sql-xoga","type":"blocks","created_at":"2026-01-23T12:02:41.012759-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-8ivp","title":"EDIT: docs/ARCHITECTURE.md - Document AnalyticsEventHandler P2 durability flow","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:36.789073-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:30:17.476595-06:00","closed_at":"2026-01-22T19:30:17.476595-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-8qy","title":"[REFACTOR] MockQueryExecutor Isolation - Move test-only code to dedicated package","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:39.498166-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:31.641555-06:00","closed_at":"2026-01-22T11:03:31.641555-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-8qy","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:40:54.384941-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-8tzx","title":"EDIT: dosql-cli - Document supported column types in schema definition","description":"The ColumnDefinition interface in generate.ts supports 'integer', 'text', 'real', 'blob', 'boolean' types but this is not documented anywhere users can see. Need to document supported types, their TypeScript mappings, and any limitations.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:39.903433-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:25:04.72308-06:00","closed_at":"2026-01-22T17:25:04.72308-06:00","close_reason":"README.md 'Column Definition Properties' table documents supported types (integer, text, real, blob, boolean), and 'Generated Output' section shows TypeScript mappings"}
{"id":"sql-91ey","title":"DOCS: Advanced Usage - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:26.609018-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:17:11.614063-06:00","closed_at":"2026-01-23T12:17:11.614063-06:00","close_reason":"Closed"}
{"id":"sql-91k2","title":"EDIT: README missing LSN utility function documentation (compareLSN, incrementLSN, lsnValue)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:08.594264-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:30:17.591953-06:00","closed_at":"2026-01-22T19:30:17.591953-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-939","title":"[EDIT] Add Production Warning - Banner in all READMEs","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:38.750258-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:30.725618-06:00","closed_at":"2026-01-22T08:47:30.725618-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-939","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:00.776271-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-99gi","title":"Implement RPC stream cleanup and memory tracking (17 tests)","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:36.261431-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:36.261431-06:00"}
{"id":"sql-9bm","title":"TDD: GREEN cache-invalidation tests","description":"Testing Review: cache-invalidation.test.ts has 24 it.fails() tests documenting cache vulnerabilities. Implement cache invalidation logic.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:28.70473-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:28:32.374883-06:00","closed_at":"2026-01-22T14:28:32.374883-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-9c7h","title":"EDIT: README.md - Document state machine transitions (idle-\u003ereceiving-\u003eflushing)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:37.968304-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:19:38.386623-06:00","closed_at":"2026-01-22T19:19:38.386623-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-9dj0","title":"DOCS: Getting Started Guide - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:01:26.697563-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:04:55.343471-06:00","closed_at":"2026-01-23T12:04:55.343471-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-9dj0","depends_on_id":"sql-ntgh","type":"blocks","created_at":"2026-01-23T12:01:26.699264-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-9dv","title":"EDIT: README.md - Update version compatibility section with actual tested versions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:10.630397-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:42:49.104449-06:00","closed_at":"2026-01-23T02:42:49.104449-06:00","close_reason":"Closed"}
{"id":"sql-9ek","title":"REFACTOR: Consolidate branded types to shared-types","description":"TypeScript/General Review: Branded types duplicated in engine/types.ts and lake.do. Move all to shared-types with consistent validation pattern.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:05.011171-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:26:04.66851-06:00","closed_at":"2026-01-22T12:26:04.66851-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-9f9","title":"TDD: Fix jitter calculation bug in rate-limiter.ts","description":"General Review: Line 754 jitter uses JITTER_MIN*2 instead of JITTER_MAX-JITTER_MIN. Define JITTER_MAX constant and fix calculation.","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:25.007211-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:36:34.343138-06:00","closed_at":"2026-01-22T14:36:34.343138-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-9gee","title":"EDIT: JSDoc SQLClient interface documentation in types.ts inconsistent with README method signatures","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:35.408106-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:42:48.974853-06:00","closed_at":"2026-01-23T02:42:48.974853-06:00","close_reason":"Closed"}
{"id":"sql-9gha","title":"REFACTOR: Consolidate error handling patterns - LakeError, ConnectionError, QueryError","description":"Error classes LakeError, ConnectionError, and QueryError (lines 1346-1439) are nearly identical with only the name property differing. Consider: 1) Use a factory pattern instead of separate classes 2) Add discriminated union with error codes for type narrowing 3) Consider adding more specific error types (AuthenticationError per client.test.ts gap) 4) Ensure error codes are typed as a union not just string","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:46.928508-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:37:52.912457-06:00","closed_at":"2026-01-22T18:37:52.912457-06:00","close_reason":"Error patterns are intentionally separated between packages. dolake (server) has DoLakeError hierarchy while lake.do (client) has LakeError hierarchy - this is correct for client/server separation. There IS internal duplication in lake.do where errors.ts has enhanced error classes with factory methods while client.ts has simpler inline versions - but the index.ts already exports from client.ts which is the authoritative source. The errors.ts file appears to be a refactoring attempt that was not completed (it is not exported from index.ts). Recommendation: Either delete errors.ts or complete the refactoring to use it as the canonical source. Also connection/manager.ts has its own ConnectionError that could be consolidated. These are minor cleanup opportunities, not architectural issues requiring consolidation."}
{"id":"sql-9kk","title":"REFACTOR: Consolidate console output patterns into a shared logging utility","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:03.390592-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:16:55.872669-06:00","closed_at":"2026-01-22T17:16:55.872669-06:00","close_reason":"Closed"}
{"id":"sql-9l8","title":"EDIT: lake.do README.md missing documentation for experimental module export path","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:52.814204-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:02.681526-06:00","closed_at":"2026-01-22T17:20:02.681526-06:00","close_reason":"Added experimental module documentation showing import path from @dotdo/lake.do/experimental"}
{"id":"sql-9lre","title":"EDIT: lake.do README.md missing dependency section explaining @dotdo/sql.do requirement","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:49.527096-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:10.167698-06:00","closed_at":"2026-01-22T17:20:10.167698-06:00","close_reason":"Added dependency section explaining @dotdo/sql.do peer requirement"}
{"id":"sql-9mis","title":"EDIT: README missing dev mode configuration documentation (setDevMode, setStrictMode)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:02.266869-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:46:36.001342-06:00","closed_at":"2026-01-22T19:46:36.001342-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-9n78","title":"[EPIC] DoLake Iceberg Catalog","description":"Make DoLake a first-class Iceberg catalog with DO-resident metadata caching.\n\n## Phase 1: Enhanced REST Catalog (2-4 weeks)\n- Cache table metadata in DO state (not just R2)\n- Pre-compute partition statistics\n- Implement subscriber pattern for metadata changes\n- Target: \u003c5ms cached metadata lookup\n\n## Phase 2: Vortex Hot Partitions (4-6 weeks)\n- Support Vortex format for recent data\n- Lazy conversion during compaction\n- 10-100x faster random access\n\n## Deliverables\n- [ ] RED: Write tests for metadata caching\n- [ ] GREEN: Implement DO-resident metadata index\n- [ ] GREEN: Add partition statistics tracking\n- [ ] REFACTOR: Integrate Vortex for hot data","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:20:20.696127-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T17:30:58.80222-06:00","closed_at":"2026-01-23T17:30:58.80222-06:00","close_reason":"EPIC complete - RED and GREEN phases implemented, REFACTOR deferred"}
{"id":"sql-9n78.1","title":"[RED] DoLake metadata caching tests","description":"Write tests for DO-resident metadata cache, invalidation, subscriber pattern","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:20:50.95529-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T13:12:06.125794-06:00","closed_at":"2026-01-23T13:12:06.125794-06:00","close_reason":"RED phase TDD tests created and committed","dependencies":[{"issue_id":"sql-9n78.1","depends_on_id":"sql-9n78","type":"parent-child","created_at":"2026-01-23T08:20:50.956051-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-9n78.2","title":"[GREEN] Implement DO-resident metadata index","description":"Cache Iceberg table metadata in DO state for fast lookups","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:20:52.243936-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T17:25:55.557734-06:00","closed_at":"2026-01-23T17:25:55.557734-06:00","close_reason":"GREEN phase implementations completed","dependencies":[{"issue_id":"sql-9n78.2","depends_on_id":"sql-9n78","type":"parent-child","created_at":"2026-01-23T08:20:52.244677-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-9n78.2","depends_on_id":"sql-9n78.1","type":"blocks","created_at":"2026-01-23T08:21:18.493003-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-9n78.3","title":"[GREEN] Add partition statistics tracking","description":"Track min/max/null counts per partition for query optimization","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:20:53.646728-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T17:30:43.778008-06:00","closed_at":"2026-01-23T17:30:43.778008-06:00","close_reason":"GREEN phase implementations completed","dependencies":[{"issue_id":"sql-9n78.3","depends_on_id":"sql-9n78","type":"parent-child","created_at":"2026-01-23T08:20:53.647552-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-9n78.3","depends_on_id":"sql-9n78.1","type":"blocks","created_at":"2026-01-23T08:21:19.736697-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-9n78.4","title":"[REFACTOR] Integrate Vortex for hot partitions","description":"Support Vortex format for recent/hot data, lazy conversion during compaction","status":"open","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:20:54.893203-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T08:20:54.893203-06:00","dependencies":[{"issue_id":"sql-9n78.4","depends_on_id":"sql-9n78","type":"parent-child","created_at":"2026-01-23T08:20:54.894006-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-9n78.4","depends_on_id":"sql-9n78.2","type":"blocks","created_at":"2026-01-23T08:21:20.963111-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-9n78.4","depends_on_id":"sql-9n78.3","type":"blocks","created_at":"2026-01-23T08:21:22.158211-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-9nea","title":"REFACTOR: Break down parseWhereClause function in partitioning.ts","description":"The parseWhereClause function is approximately 90 lines long, exceeding the 50 line threshold. Split into smaller functions for parsing different clause types (AND, OR, comparisons, etc.).","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:58.025386-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:40:50.232351-06:00","closed_at":"2026-01-22T18:40:50.232351-06:00","close_reason":"Refactored parseWhereClause (93 lines) into 7 focused helper functions: parseEqualityPredicates, parseInPredicates, parseBetweenPredicates, parseGreaterOrEqualPredicates, parseLessOrEqualPredicates, parseGreaterThanPredicates, parseLessThanPredicates. The main function now composes these helpers, improving readability and maintainability."}
{"id":"sql-9ogb","title":"EDIT: shared-types index.ts TransactionOptions/TransactionState/TransactionHandle missing JSDoc @example","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:48.799727-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:14:35.651584-06:00","closed_at":"2026-01-22T19:14:35.651584-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-9rm9","title":"EDIT: lake.do README.md missing WebSocket protocol documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:29.006221-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:36:43.466688-06:00","closed_at":"2026-01-23T02:36:43.466688-06:00","close_reason":"Closed"}
{"id":"sql-9to","title":"[REWRITE] Troubleshooting Guide - Reorganize and expand with more scenarios","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:49.046963-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:33.442456-06:00","closed_at":"2026-01-22T11:03:33.442456-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-9to","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:40:52.512016-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-9us","title":"EDIT: README Table of Contents missing entries for connection methods and events","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:59.568292-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:36:43.60081-06:00","closed_at":"2026-01-23T02:36:43.60081-06:00","close_reason":"Closed"}
{"id":"sql-9uyg","title":"REFACTOR: isClientCDCEvent type guard has redundant check","description":"In isClientCDCEvent function (lines 1135-1140), the condition 'typeof event.transactionId === \"string\" || event.transactionId \\!== undefined' is redundant. If transactionId is a string, it's also \\!== undefined. The check should be simplified to just 'event.transactionId \\!== undefined' or 'typeof event.transactionId === \"string\"' depending on intent.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:18.648782-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:24:26.84171-06:00","closed_at":"2026-01-22T17:24:26.84171-06:00","close_reason":"Closed"}
{"id":"sql-a0li","title":"EDIT: Inline comment missing explanation of retry backoff algorithm in isRetryableError codes","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:47.925833-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T20:05:47.977288-06:00","closed_at":"2026-01-22T20:05:47.977288-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-a0xc","title":"README: sql.do Landing - Storybrand EDIT","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:19.177522-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:24:47.747984-06:00","closed_at":"2026-01-23T12:24:47.747984-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-a0xc","depends_on_id":"sql-gt0m","type":"blocks","created_at":"2026-01-23T12:02:30.465626-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-a1p","title":"EDIT: README time travel example uses incorrect year 2024 instead of current/recent year","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:50.133923-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:56:37.780944-06:00","closed_at":"2026-01-22T18:56:37.780944-06:00","close_reason":"Updated 6 time travel examples in README files from 2024 to 2025: dosql/docs/README.md (SYSTEM_TIME AS OF), lake.do/README.md (asOf option), sql.do/README.md (2 instances of asOf option), shared-types/README.md (2 instances - params Date and asOf option)"}
{"id":"sql-a5u0","title":"EDIT: README missing column type mapping utilities documentation (SQL_TO_JS_TYPE_MAP, sqlToJsType, etc.)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:09.348788-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:30:17.566938-06:00","closed_at":"2026-01-22T19:30:17.566938-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-a6k7","title":"DOCS: Benchmarks \u0026 Performance - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:24.749334-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:19:52.190115-06:00","closed_at":"2026-01-23T12:19:52.190115-06:00","close_reason":"Closed"}
{"id":"sql-a76r","title":"REFACTOR: CatalogRouter.route method is 140+ lines - split into smaller handlers","description":"The route() method in catalog-router.ts has too many conditionals checking URL paths. Consider using a routing table pattern or splitting into dedicated route handlers to improve readability and maintainability.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:39.197905-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:52:29.407454-06:00","closed_at":"2026-01-22T18:52:29.407454-06:00","close_reason":"Already refactored - CatalogRouter.route method is now 27 lines (down from 140+). The method delegates to routePrefixHandlers, routeStaticHandlers, and routeDynamicHandlers. Static routes use O(1) Map lookup via buildStaticRoutes(). Handlers are organized into logical groups: Compaction, Query, Scaling, Partition Analysis, Large File, Test Utilities, Extended Catalog, Analytics, Cache Invalidation, Replication, and Session handlers."}
{"id":"sql-aamu","title":"REFACTOR: Extract long handleMessage method in websocket-handler.ts into smaller focused methods","description":"The handleMessage method in websocket-handler.ts is 120+ lines, exceeding the 50 line threshold. Break it down into smaller, focused methods for better readability and testability.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:54.876986-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:38:12.149909-06:00","closed_at":"2026-01-22T18:38:12.149909-06:00","close_reason":"Refactored handleMessage method in websocket-handler.ts by extracting 10 focused private methods: validateConnectionAttachment, calculatePayloadSize, validatePayloadSize, handleOversizedPayload, parseAndDispatchMessage, checkMessageRateLimit, handleRateLimitRejection, dispatchMessage, handleMessageParseError, and checkAndScheduleFlush. The main handleMessage method is now a clean 22-line dispatcher that delegates to these focused methods. No behavioral changes, all existing type checks pass."}
{"id":"sql-aayr","title":"Fix correlated subquery evaluation","description":"\n## Problem\nCorrelated subqueries not correctly referencing outer table:\n```sql\nSELECT (SELECT count(*) FROM t1 AS x WHERE x.b\u003ct1.b) FROM t1\n-- Wrong results\n```\n\n## TDD Approach\n\n### RED Phase\n- Add failing test in src/parser/__tests__/correlated-subquery.test.ts\n- Test: Correlated subquery with outer table reference\n- Test: Correlated subquery with alias\n- Test: Multiple correlated subqueries\n- Test: Nested correlated subqueries\n\n### GREEN Phase\n- Pass outer row context to subquery execution\n- Properly resolve column references to outer vs inner tables\n\n### REFACTOR Phase\n- Consider decorrelation optimization\n- Add EXISTS optimization for correlated subqueries\n\n## Files\n- packages/dosql/src/engine/executor.ts\n- packages/dosql/src/planner/subquery.ts\n","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:07:07.239731-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:21.002898-06:00","closed_at":"2026-01-30T10:42:21.002898-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-ae7","title":"EDIT: lake.do client.ts JSDoc examples use outdated dates 2024 - update to 2026","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:20.452157-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:10.920743-06:00","closed_at":"2026-01-22T17:20:10.920743-06:00","close_reason":"Updated JSDoc examples in client.ts from 2024 to 2026"}
{"id":"sql-aeb","title":"EDIT: README missing ConnectionError and TimeoutError documentation in Error Handling section","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:06.318945-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:36:43.576675-06:00","closed_at":"2026-01-23T02:36:43.576675-06:00","close_reason":"Closed"}
{"id":"sql-afe1","title":"EDIT: shared-types README missing import examples for config.ts exports (setDevMode, setStrictMode)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:48.035282-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:29:55.009111-06:00","closed_at":"2026-01-22T18:29:55.009111-06:00","close_reason":"Fixed: Added Runtime Utilities section to README documenting getWrapperMapStats(), clearWrapperMaps(), setDevMode(), isDevMode(), setStrictMode(), and isStrictMode() with code examples."}
{"id":"sql-aqc","title":"REFACTOR: DRY up HTTP client request/response handling between DoLakeE2EClient and DoLakeWebSocketClient","description":"In e2e/client.ts, DoLakeE2EClient and DoLakeWebSocketClient share similar patterns: 1) Config initialization with defaults (lines 84-90 vs 411-417) 2) Timeout handling with AbortController/setTimeout 3) Debug logging patterns 4) URL construction. Extract shared base class or utility functions for common HTTP/WS client operations.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:16.658966-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:52:52.548283-06:00","closed_at":"2026-01-22T18:52:52.548283-06:00","close_reason":"No refactoring needed: DoLakeE2EClient uses HTTP (fetch) while DoLakeWebSocketClient uses WebSocket - fundamentally different transport mechanisms with different APIs. HTTP uses request/response with headers, WebSocket uses persistent connections with message passing. Config overlap (timeout, token) is used differently (HTTP header vs WS message). Extracting shared code would add unnecessary abstraction for minimal benefit."}
{"id":"sql-arc6","title":"EDIT: lake.do README.md CDC streaming example missing error handling pattern","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:58.876881-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:46:36.050008-06:00","closed_at":"2026-01-22T19:46:36.050008-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-as1","title":"TDD: GREEN message-size-validation tests","description":"Testing Review: message-size-validation.test.ts has 31 it.fails() tests documenting memory exhaustion vulnerabilities. Implement pre-parse size validation.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:45.64129-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:28:32.40364-06:00","closed_at":"2026-01-22T14:28:32.40364-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-asqe","title":"EDIT: docs/API.md - Document rate limit header format in responses","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:32.308036-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:03:38.401646-06:00","closed_at":"2026-01-22T19:03:38.401646-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-at0","title":"EDIT: JSDoc missing @returns documentation for generateIdempotencyKey","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:18.250528-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:31:39.394718-06:00","closed_at":"2026-01-23T02:31:39.394718-06:00","close_reason":"Already documented - @returns and @internal tags present"}
{"id":"sql-aug","title":"EDIT: JSDoc missing @throws documentation for DoSQLClient constructor","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:20.082086-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:32:29.240525-06:00","closed_at":"2026-01-23T02:32:29.240525-06:00","close_reason":"Constructor doesn't throw - errors occur on connect(), which already has @throws documented"}
{"id":"sql-avz","title":"[WRITE] Changelog - CHANGELOG.md v0.1.0 release notes","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:51.858094-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:45:32.795726-06:00","closed_at":"2026-01-22T08:45:32.795726-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-avz","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:13.366184-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-ay1","title":"TDD: Build CLI tool (dosql init/migrate/generate)","description":"Product Review: DX critical - no CLI tool. Create packages/dosql-cli/ with commands: init, migrate, generate, deploy. Follow wrangler patterns.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:53.604131-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:28:32.513486-06:00","closed_at":"2026-01-22T14:28:32.513486-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-ayk","title":"[GREEN] Query Plan Caching - Implement hash-based plan cache","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:44.375089-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:30.058586-06:00","closed_at":"2026-01-22T11:03:30.058586-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-ayk","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:07.892015-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-b2f","title":"EDIT: lake.do README.md missing connection management examples (connect/disconnect)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:53.855815-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:19.854073-06:00","closed_at":"2026-01-22T17:20:19.854073-06:00","close_reason":"Added connect/disconnect documentation to Connection Methods section in README"}
{"id":"sql-b7y7","title":"DOCS: Architecture Overview - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:01:32.300905-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:05:32.312555-06:00","closed_at":"2026-01-23T12:05:32.312555-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-b7y7","depends_on_id":"sql-ntgh","type":"blocks","created_at":"2026-01-23T12:01:32.302414-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-bbb","title":"REFACTOR: Consolidate RetryConfig to shared-types","description":"General Review: RetryConfig duplicated in sql.do and lake.do. Create single source in shared-types.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:18.99659-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:12:14.850084-06:00","closed_at":"2026-01-22T12:12:14.850084-06:00","close_reason":"GREEN phase complete - tests passing"}
{"id":"sql-bdzn","title":"Add coverage reporting to CI","description":"\n## Problem\nNo coverage reports configured:\n- No .nycrc or c8.config\n- No CI reporting of coverage metrics\n- No coverage thresholds enforced\n- Cannot track coverage trends\n\n## TDD Approach\n\n### RED Phase\n- Add coverage script that fails if \u003c 70% coverage\n- Test: Coverage report generation works\n\n### GREEN Phase\n- Configure c8/vitest coverage\n- Add coverage artifact upload to GitHub Actions\n- Set minimum threshold (70% initially)\n\n### REFACTOR Phase\n- Add per-module coverage breakdown\n- Set up coverage badge in README\n- Configure coverage trend tracking\n\n## Files\n- packages/dosql/vitest.config.ts\n- .github/workflows/test.yml\n","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:08:16.226918-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:21.009972-06:00","closed_at":"2026-01-30T10:42:21.009972-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-bken","title":"EDIT: lake.do README.md stability table shows inconsistent status vs code annotations","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:56.016147-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:55:09.972817-06:00","closed_at":"2026-01-22T19:55:09.972817-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-blj7","title":"EPIC: Test Coverage Gaps","description":"Address missing test coverage: CLI module (39KB untested), middleware, error handling, 43 skipped tests, coverage reporting in CI.","status":"closed","priority":1,"issue_type":"epic","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:06:40.831757-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:31.909908-06:00","closed_at":"2026-01-30T10:42:31.909908-06:00","close_reason":"All child tasks completed"}
{"id":"sql-bsp","title":"REFACTOR: Extract fileExists utility to reduce duplication","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:41.049518-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:12:42.308395-06:00","closed_at":"2026-01-22T17:12:42.308395-06:00","close_reason":"Closed"}
{"id":"sql-bta","title":"EDIT: README.md - Fix CHANGELOG link that points to non-existent ../../CHANGELOG.md","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:11.842365-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:42:49.083012-06:00","closed_at":"2026-01-23T02:42:49.083012-06:00","close_reason":"Closed"}
{"id":"sql-bv8","title":"REFACTOR: DoSQLClient class has too many responsibilities (SRP violation)","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:45.09711-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:17:55.864994-06:00","closed_at":"2026-01-22T17:17:55.864994-06:00","close_reason":"Refactored DoSQLClient to delegate to IdempotencyKeyManager and ConnectionManager, reducing class responsibilities while maintaining backward compatibility"}
{"id":"sql-bwkw","title":"EDIT: lake.do README.md API section missing isConnected and url properties","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:27.873605-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:01.183834-06:00","closed_at":"2026-01-22T17:20:01.183834-06:00","close_reason":"Added isConnected and url properties documentation to API section"}
{"id":"sql-bwoy","title":"Implement WebSocket hibernation alarm-based cleanup (3 tests)","status":"open","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:50.354239-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:50.354239-06:00"}
{"id":"sql-bzb","title":"[WRITE] CLI Documentation - docs/CLI.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:46.147572-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:19.05497-06:00","closed_at":"2026-01-22T08:47:19.05497-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-bzb","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:07.09689-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-c09d","title":"EDIT: README missing DEFAULT_RETRY_CONFIG and createRetryConfig utility documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:42.018186-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:26:29.894073-06:00","closed_at":"2026-01-22T19:26:29.894073-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-c15","title":"EDIT: dosql-cli - Create CHANGELOG.md to track version history","description":"Package is at version 0.1.0 but has no CHANGELOG.md. Need to document changes from initial release and establish changelog convention for future releases.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:44.042192-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:18:46.521458-06:00","closed_at":"2026-01-22T17:18:46.521458-06:00","close_reason":"Created CHANGELOG.md with Keep a Changelog format documenting v0.1.0 release with all features including init/migrate/generate commands, programmatic API, path validation, and utilities"}
{"id":"sql-c15q","title":"REFACTOR: Extract replica notification retry logic in cache-invalidation.ts","description":"The scheduleReplicaRetry method contains inline retry logic with exponential backoff. Extract into a reusable retryWithBackoff utility that can be shared with durability.ts retry patterns.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:42.378764-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:16:13.077606-06:00","closed_at":"2026-01-22T17:16:13.077606-06:00","close_reason":"Closed"}
{"id":"sql-c52w","title":"EPIC: SQLLogicTest Compatibility - Reach 90%+ Pass Rate","description":"Address the major failure categories identified in SQLLogicTest to improve from 70.82% to 90%+ pass rate. Current failures: IN operator, scalar subqueries, correlated subqueries, CASE expressions.","status":"open","priority":1,"issue_type":"epic","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:06:38.437474-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T09:06:38.437474-06:00"}
{"id":"sql-c56l","title":"EDIT: shared-types index.ts RPCRequest/RPCResponse interfaces missing JSDoc @example","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:49.848508-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:14:35.627833-06:00","closed_at":"2026-01-22T19:14:35.627833-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-c5e","title":"REFACTOR: Extract transaction context operations into separate module","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:19.743201-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:47:09.148141-06:00","closed_at":"2026-01-22T18:47:09.148141-06:00","close_reason":"Transaction context code is already modular and minimal. The TransactionContext class in packages/sql.do/src/client.ts is a lightweight 90-line wrapper (including extensive JSDoc documentation) that provides a scoped interface for executing SQL within a transaction. It only contains: (1) constructor storing client/state references, (2) transactionId getter, (3) exec() method delegating to client, (4) query() method delegating to client. The actual transaction logic (isolation levels, MVCC, lock management, timeouts) already lives in the well-organized packages/dosql/src/transaction/ module with separate files for types.ts, manager.ts, isolation.ts, and timeout.ts. Extracting this minimal wrapper class would add unnecessary indirection without meaningful architectural benefit."}
{"id":"sql-c64l","title":"EDIT: lake.do client.ts inline comment on line 90 references imported type but should explain purpose","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:48.264845-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T20:05:47.955467-06:00","closed_at":"2026-01-22T20:05:47.955467-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-c8bm","title":"EDIT: docs/INTEGRATION.md - Add DoLake instantiation example with config","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:58.628436-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:19:38.315964-06:00","closed_at":"2026-01-22T19:19:38.315964-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-c9pm","title":"[GREEN] Fix failing tests in observability.test.ts","description":"Fix 30 failing tests in packages/dosql/src/__tests__/observability.test.ts\n\n## Failing Test Categories:\n- OpenTelemetry trace spans for queries\n- Span attributes for query tracing\n- Error capture in spans\n- Transaction span hierarchy\n- SQL sanitization for traces\n- Query count/latency/error metrics\n- Active connections gauge\n- Prometheus metrics format\n- Distributed trace context propagation (W3C traceparent)\n- DO metrics endpoint\n- WAL and CDC metrics\n\n## Test Patterns:\n- it.fails('emits trace spans for SELECT queries')\n- it.fails('sanitizes parameter values in SQL statements')\n- it.fails('collects query count metrics')\n- it.fails('propagates trace context from Worker to DO')\n- it.fails('exposes metrics in Prometheus format')","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:22:33.082862-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:17:42.746152-06:00","closed_at":"2026-01-23T10:17:42.746152-06:00","close_reason":"Closed"}
{"id":"sql-ch6","title":"[EDIT] Add Bundle Size Proof - Add reproducible bundle size measurement to README","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:41.401292-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:48:02.44835-06:00","closed_at":"2026-01-22T08:48:02.44835-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-ch6","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:03.976518-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-ci4","title":"REFACTOR: Remove unused basename import in generate.ts","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:00.848246-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:25:49.766093-06:00","closed_at":"2026-01-22T18:25:49.766093-06:00","close_reason":"Removed unused basename import from generate.ts"}
{"id":"sql-cj9b","title":"DOCS: API Reference - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:01:31.445839-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:49:53.151871-06:00","closed_at":"2026-01-23T12:49:53.151871-06:00","close_reason":"DOCS: API Reference rewrite complete. Reorganized for clarity, verified type signatures, and made publication-ready.","dependencies":[{"issue_id":"sql-cj9b","depends_on_id":"sql-ntgh","type":"blocks","created_at":"2026-01-23T12:01:31.447312-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-cj9b","depends_on_id":"sql-1gja","type":"blocks","created_at":"2026-01-23T12:01:45.068643-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-ckmh","title":"EDIT: SECURITY.md - Cross-reference to related Cloudflare security documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:09.442513-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:07:37.069167-06:00","closed_at":"2026-01-22T19:07:37.069167-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-cl0","title":"[GREEN] Missing Operator Modules - Implement project, join, aggregate operators","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:40.616401-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:30.064881-06:00","closed_at":"2026-01-22T11:03:30.064881-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-cl0","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:04.360023-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-cmq","title":"EDIT: dosql-cli - Improve error messages with actionable guidance","description":"Current error messages are basic and lack actionable guidance. Examples: (1) 'Migrations directory not found' should suggest running 'dosql init' first, (2) 'Schema directory not found' should suggest creating schema files, (3) Config already exists error should mention what --force does. Errors should include common fix suggestions.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:10.455614-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:23:20.615494-06:00","closed_at":"2026-01-22T17:23:20.615494-06:00","close_reason":"Improved error messages with actionable guidance: migrations directory not found suggests dosql init or mkdir; schema directory not found explains schema file format; config already exists clarifies what --force does"}
{"id":"sql-co6i","title":"EPIC: Architecture Improvements","description":"Address architectural issues: plan cache invalidation, WAL retention policy, large file refactoring.","status":"open","priority":2,"issue_type":"epic","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:06:41.674751-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T09:06:41.674751-06:00"}
{"id":"sql-cq8o","title":"EDIT: api-reference.md - Document FSX tiered storage configuration options and migration behavior","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:57.537163-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:26:29.846405-06:00","closed_at":"2026-01-22T19:26:29.846405-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-cqb","title":"REFACTOR: Split dolake.ts monolith (85KB)","description":"Architecture Review: dolake.ts is 85KB with mixed concerns. Split into: websocket-handler.ts, state-machine.ts, catalog-router.ts, flush-manager.ts","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:19.818104-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:13:01.658977-06:00","closed_at":"2026-01-22T14:13:01.658977-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-csd","title":"FEAT: Add schema versioning to BufferSnapshot","description":"Architecture Review: BufferSnapshot has no version field for forward compatibility. Add version field to serialization format.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:01.573023-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:12:14.827243-06:00","closed_at":"2026-01-22T12:12:14.827243-06:00","close_reason":"GREEN phase complete - tests passing"}
{"id":"sql-ct72","title":"EDIT: Add inline comments explaining CIDR bitwise matching in isInCidr method","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:00.839771-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:11:27.590624-06:00","closed_at":"2026-01-22T19:11:27.590624-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-cth","title":"TEST: Add lake.do E2E tests against deployed worker","description":"lake.do needs E2E tests that call a deployed test worker on Cloudflare to write CDC events and later read them back. Similar pattern to dosql E2E tests. Must test real prod environment, not mocks.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:57:29.618634-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:29:50.669989-06:00","closed_at":"2026-01-22T12:29:50.669989-06:00","close_reason":"E2E test infrastructure created"}
{"id":"sql-cx8","title":"TDD: GREEN E2E lakehouse pipeline tests","description":"Testing Review: e2e-lakehouse.test.ts has 36 it.fails() tests. Implement CDC-\u003eBuffer-\u003eParquet-\u003eR2 pipeline to make tests pass.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:27.168548-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:13:01.702013-06:00","closed_at":"2026-01-22T14:13:01.702013-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-cx9k","title":"EDIT: shared-types README missing CHANGELOG.md file reference and actual file","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:24.527223-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:11:33.296844-06:00","closed_at":"2026-01-22T17:11:33.296844-06:00","close_reason":"Added CHANGELOG.md file with comprehensive documentation of 0.1.0 release features"}
{"id":"sql-cxw","title":"[REFACTOR] Split dosql Package - Split into dosql-core, dosql-sharding, dosql-orm","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:38.170325-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:48:35.045118-06:00","closed_at":"2026-01-22T08:48:35.045118-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-cxw","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:40:53.08981-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-cxz","title":"REFACTOR: Extract snapshot transformation logic to reusable function in client.ts","description":"In DoLakeClient, both getMetadata() (lines 616-641) and listSnapshots() (lines 812-826) contain nearly identical snapshot transformation code that converts server response to Snapshot type with branded IDs. Extract to a private transformSnapshot() helper method.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:58.653496-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:19.294162-06:00","closed_at":"2026-01-22T17:19:19.294162-06:00","close_reason":"Extracted snapshot transformation logic into transformers.ts with transformSnapshot, transformPartitionInfo, transformCompactionJob, and transformTableMetadata functions"}
{"id":"sql-d02d","title":"EDIT: README.md - Update GitHub and npm links to actual repository URLs","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:21.862799-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:35:25.511269-06:00","closed_at":"2026-01-22T18:35:25.511269-06:00","close_reason":"Already correct: The README has a valid npm badge linking to @dotdo/sql.do on npmjs.com, and package.json has the correct repository field pointing to github.com/dot-do/sql.git"}
{"id":"sql-d088","title":"EDIT: JSDoc experimental.ts module documentation lacks detailed feature descriptions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:34.015019-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:32:11.934778-06:00","closed_at":"2026-01-23T02:32:11.934778-06:00","close_reason":"experimental.ts already has detailed feature descriptions and examples (lines 1-60+)"}
{"id":"sql-da7w","title":"[GREEN] Fix failing tests in sqllogictest-aggregates.test.ts","description":"Fix 21 failing tests in packages/dosql/src/__tests__/sqllogictest-aggregates.test.ts\n\n## Failing Test Categories:\n- COUNT DISTINCT aggregate\n- Aggregates with expressions (SUM, AVG, MIN, MAX, COUNT)\n- CASE WHEN in aggregates (conditional aggregation)\n- GROUP_CONCAT aggregate (with separators, DISTINCT)\n- TOTAL() function (floating point sum)\n- GROUP BY on empty table\n- Multiple aggregates per group\n\n## Test Patterns:\n- it.fails('should count distinct values in a column')\n- it.fails('should sum an arithmetic expression')\n- it.fails('should average only positive values using CASE WHEN')\n- it.fails('should concatenate all values into a comma-separated string')\n- it.fails('should return total as floating point')","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:22:45.31584-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:31:33.804653-06:00","closed_at":"2026-01-23T10:31:33.804653-06:00","close_reason":"Batch 4 tests fixed - commit 6ba0206"}
{"id":"sql-de2","title":"DOCS: Add Developer Preview banner to READMEs","description":"Product Review: Add 'DEVELOPER PREVIEW - NOT FOR PRODUCTION' banner to all package READMEs.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:26.017304-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:26:04.713261-06:00","closed_at":"2026-01-22T12:26:04.713261-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-dejq","title":"EDIT: Type docs - Document MessageValidationError class usage and error format","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:23.845824-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:03:38.475499-06:00","closed_at":"2026-01-22T19:03:38.475499-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-dfz","title":"[GREEN] Warm Tier Cache Invalidation - Implement R2 cache invalidation strategy","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:45.981317-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:30.056744-06:00","closed_at":"2026-01-22T11:03:30.056744-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-dfz","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:10.285671-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-dh9","title":"[REWRITE] Examples Documentation - Organize examples by use case, add runnable code","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:41:05.102495-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:33.385517-06:00","closed_at":"2026-01-22T11:03:33.385517-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-dh9","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:09.827654-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-doth","title":"Fix 29 R2 backend error handling tests (retry, circuit breaker, degradation)","status":"open","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:34.154965-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:34.154965-06:00"}
{"id":"sql-dsoq","title":"EDIT: shared-types index.ts QueryRequest interface missing JSDoc @example","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:41.502764-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:16:41.173744-06:00","closed_at":"2026-01-22T19:16:41.173744-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-dt29","title":"EDIT: JSDoc ClientEventMap and ClientEventListener types missing examples","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:28.178912-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:55:10.083293-06:00","closed_at":"2026-01-22T19:55:10.083293-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-duio","title":"EDIT: shared-types index.ts DEFAULT_IDEMPOTENCY_CONFIG properties missing JSDoc descriptions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:55.098879-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:14.773771-06:00","closed_at":"2026-01-22T17:19:14.773771-06:00","close_reason":"DEFAULT_IDEMPOTENCY_CONFIG has JSDoc in index.ts with property descriptions"}
{"id":"sql-dzm","title":"[EDIT] Improve Error Messages Guide - Add common error resolutions to ERROR_CODES.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:48.842353-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:31.420063-06:00","closed_at":"2026-01-22T11:03:31.420063-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-dzm","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:11.013303-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-e54","title":"[WRITE] Hono Integration Guide - docs/integrations/HONO.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:47.915299-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:31.448011-06:00","closed_at":"2026-01-22T11:03:31.448011-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-e54","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:09.069394-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-e6b","title":"EDIT: dosql-cli - Add JSDoc comments to init.ts exported functions and interfaces","description":"initProject function lacks JSDoc documentation. InitOptions and InitResult interfaces have no documentation explaining their purpose and fields. Need to add comprehensive JSDoc with @param, @returns, @throws, and @example tags.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:51.447761-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:14.446244-06:00","closed_at":"2026-01-22T17:19:14.446244-06:00","close_reason":"Added comprehensive JSDoc comments to init.ts including module documentation, interface property descriptions, and function documentation with examples"}
{"id":"sql-e7d","title":"[RED] Missing Operator Modules - Tests for project, join, aggregate operators","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:40.560882-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:34.244454-06:00","closed_at":"2026-01-22T08:47:34.244454-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-e7d","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:03.151046-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-ec8","title":"WRITE: Security documentation and best practices","description":"Product Review: Production blocker - no security docs. Create docs/SECURITY.md with threat model, auth patterns, SQL injection prevention, data encryption, audit logging.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:48.912383-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:13:01.760709-06:00","closed_at":"2026-01-22T14:13:01.760709-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-edm","title":"[WRITE] CDC Streaming Guide - docs/CDC_STREAMING.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:38.603721-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:49:11.96776-06:00","closed_at":"2026-01-22T08:49:11.96776-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-edm","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:00.41822-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-efx","title":"EDIT: lake.do README.md example uses date 2024-01-01 - should use current year 2026","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:45.461562-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:41.741107-06:00","closed_at":"2026-01-22T17:19:41.741107-06:00","close_reason":"Updated date from 2024-01-01 to 2026-01-01 in README Time Travel example"}
{"id":"sql-eg7b","title":"EDIT: dosql-cli - Document @dotdo/dosql dependency in config template","description":"The generated dosql.config.ts imports from '@dotdo/dosql' (defineConfig), but this package may not exist or be documented. Users following the init command will get import errors. Need to document this dependency or adjust the template.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:00.115455-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:24:30.664952-06:00","closed_at":"2026-01-22T17:24:30.664952-06:00","close_reason":"Added documentation in CONFIG_TEMPLATE explaining that @dotdo/dosql is a required dependency and how users can work around it if not available"}
{"id":"sql-elp","title":"WRITE: Troubleshooting FAQ guide","description":"Product Review: Missing troubleshooting guide. Create docs/TROUBLESHOOTING.md with common errors, debugging tips, performance issues, connection problems.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:52.801575-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:36:34.402195-06:00","closed_at":"2026-01-22T14:36:34.402195-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-eno9","title":"EDIT: dosql-cli - Add type documentation for exported interfaces in d.ts files","description":"The generated .d.ts files (dist/*.d.ts) lack JSDoc comments because the source TypeScript files lack them. Adding JSDoc to source files will automatically improve the generated declaration files, providing better IDE hover documentation for consumers.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:01.196418-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:25:21.011338-06:00","closed_at":"2026-01-22T17:25:21.011338-06:00","close_reason":"Added JSDoc comments to source files (index.ts, init.ts, migrate.ts, generate.ts) which will propagate to .d.ts declaration files after rebuilding. Comments include interface property descriptions and function documentation."}
{"id":"sql-ew3k","title":"EDIT: shared-types README missing documentation for runtime mode config (setDevMode, setStrictMode)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:14.343252-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:33:33.336128-06:00","closed_at":"2026-01-22T18:33:33.336128-06:00","close_reason":"Already documented: setDevMode() and setStrictMode() are documented in the new Runtime Utilities section of the shared-types README (lines 763-786). Includes function descriptions and code examples."}
{"id":"sql-ew95","title":"EDIT: README optimistic locking example uses string interpolation instead of proper parameter binding","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:30.280831-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:16:41.273557-06:00","closed_at":"2026-01-22T19:16:41.273557-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-exns","title":"RED: Publish performance benchmarks (p50/p95/p99 latency)","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:51:11.792328-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:09:31.201066-06:00","closed_at":"2026-01-22T17:09:31.201066-06:00","close_reason":"Closed"}
{"id":"sql-eyr6","title":"Fix deadlock detection - auto retry, operation count (2 tests)","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:47.928138-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:47.928138-06:00"}
{"id":"sql-ezfm","title":"EDIT: shared-types index.ts ClientCapabilities interface missing property-level JSDoc","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:39.668201-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:12:38.606008-06:00","closed_at":"2026-01-22T17:12:38.606008-06:00","close_reason":"Added JSDoc property-level documentation for ClientCapabilities interface"}
{"id":"sql-f5c9","title":"[RED] Add foreign key constraint enforcement","description":"MinimalSQLEngine does not enforce foreign key constraints.\n\nFound during @openflare/do integration testing.\n\nExpected behavior:\n- INSERT with invalid FK reference should throw error\n- DELETE of parent row with child references should throw error (unless CASCADE)\n- UPDATE of FK column to invalid reference should throw error\n\nCurrent behavior:\n- All FK operations succeed without validation\n\nNeeds:\n1. RED test for FK enforcement\n2. GREEN implementation in MinimalSQLEngine\n3. REFACTOR to optimize FK lookups","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T11:31:18.374868-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T11:32:42.300115-06:00","closed_at":"2026-01-23T11:32:42.300115-06:00","close_reason":"Not a dosql bug - FK constraints are being skipped in @openflare/do's local MinimalSQLEngine, not in dosql itself"}
{"id":"sql-fdbu","title":"Unblock 43 skipped tests","description":"\n## Problem\n43 skipped tests represent real functionality gaps:\n- timeout-enforcement.test.ts: 1 skip\n- tiered.test.ts: 3 skips (hot storage eviction, concurrent writes, retry)\n- observability.test.ts: 1 skip\n- cross-do.test.ts: multiple skips\n- query-operators.test.ts: 1 skip\n- bun-repl.test.ts: 10 skips\n- ws-hibernation.test.ts: multiple skips\n- message-validation.test.ts (dolake): 6 skips\n\n## TDD Approach\n\n### RED Phase\n- Audit each skip to understand why it was skipped\n- Document blockers for each\n\n### GREEN Phase\n- Fix underlying issues causing skips\n- Unskip and verify tests pass\n\n### REFACTOR Phase\n- Add regression tests for fixed issues\n- Document any intentional skips with issue links\n\n## Files\n- Multiple test files across packages\n","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:07:55.330824-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:26.676823-06:00","closed_at":"2026-01-30T10:42:26.676823-06:00","close_reason":"Partial implementation - retention policy skeleton and test unblocking done"}
{"id":"sql-fixu","title":"[GREEN] Fix failing tests in sqllogictest-insert-compat.test.ts","description":"Fix 13 failing tests in packages/dosql/src/__tests__/sqllogictest-insert-compat.test.ts\n\n## Failing Test Categories:\n- INSERT without column list with DEFAULT values\n- INSERT with PRIMARY KEY / AUTOINCREMENT\n- INSERT with expressions in VALUES (arithmetic, concatenation, functions)\n- Multi-row INSERT (multiple VALUES tuples, NULL, params)\n- INSERT with quoted identifiers and reserved words\n- Special characters in string values\n\n## Test Patterns:\n- it.fails('should accept INSERT with DEFAULT keyword')\n- it.fails('should accept INSERT without column list with PRIMARY KEY')\n- it.fails('should accept INSERT with arithmetic expressions')\n- it.fails('should accept INSERT with multiple VALUES tuples')\n- it.fails('should accept INSERT into table with quoted name')","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:23:01.000911-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:31:33.808962-06:00","closed_at":"2026-01-23T10:31:33.808962-06:00","close_reason":"Batch 4 tests fixed - commit 6ba0206"}
{"id":"sql-fouj","title":"DOCS: Troubleshooting Guide - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:31.085715-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:48:44.870845-06:00","closed_at":"2026-01-23T12:48:44.870845-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-fouj","depends_on_id":"sql-unqj","type":"blocks","created_at":"2026-01-23T12:02:44.516549-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-g4ei","title":"EDIT: shared-types README documents isValidStatementHash type guard but function not exported","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:40.355031-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:30:17.454936-06:00","closed_at":"2026-01-22T19:30:17.454936-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-g5g","title":"EDIT: README IdempotencyConfig docs incomplete - missing maxCacheSize, cacheTtlMs, cleanupIntervalMs","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:07.325916-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:36:43.555643-06:00","closed_at":"2026-01-23T02:36:43.555643-06:00","close_reason":"Closed"}
{"id":"sql-g6id","title":"README: lake.do Landing - Storybrand REWRITE","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:24.042605-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:31:15.319212-06:00","closed_at":"2026-01-23T12:31:15.319212-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-g6id","depends_on_id":"sql-6s3i","type":"blocks","created_at":"2026-01-23T12:02:35.257947-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-g7g","title":"EDIT: dosql-cli - Add JSDoc comments to index.ts createCLI function","description":"createCLI function that sets up the Commander CLI has no JSDoc documentation. Need to document what it returns, example usage for programmatic CLI invocation.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:02.722185-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:21:47.41418-06:00","closed_at":"2026-01-22T17:21:47.41418-06:00","close_reason":"Added JSDoc documentation to createCLI function in index.ts with module documentation and usage examples for programmatic API"}
{"id":"sql-gben","title":"REFACTOR: Add JSDoc examples to Result pattern utility functions","description":"Result pattern functions (mapResult, flatMapResult, combineResults, unwrap, unwrapOr) at lines 1503-1563 have JSDoc comments with @example blocks but the examples are basic. Add more comprehensive examples showing: 1) error handling patterns 2) chaining operations 3) integration with async code 4) common gotchas. This improves API discoverability.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:44.187274-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:16.390152-06:00","closed_at":"2026-01-22T17:20:16.390152-06:00","close_reason":"Closed"}
{"id":"sql-gdw","title":"EDIT: lake.do types.ts JSDoc examples use outdated dates 2024 - update to 2026","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:19.543746-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:12.105477-06:00","closed_at":"2026-01-22T17:20:12.105477-06:00","close_reason":"Updated JSDoc examples in types.ts from 2024 to 2026"}
{"id":"sql-glij","title":"[EPIC] Node.js SQLite File Compatibility","description":"Enable DoSQL to read/write standard SQLite files compatible with sqlite3 CLI, libsql, and Turso.\n\n## Options (not just better-sqlite3)\n1. **better-sqlite3** - Native bindings, fastest (25K ops/sec), requires compilation\n2. **sql.js** - WASM-based, portable, slower (~1K ops/sec)\n3. **@libsql/client** - Turso's client, supports file: URLs, embedded replicas\n4. **bun:sqlite** - Bun built-in, 3-6x faster than better-sqlite3\n\n## Recommendation\nUse @libsql/client for broadest compatibility - works with local files AND Turso cloud sync.\n\n## Deliverables\n- [ ] RED: Write tests for file read/write compatibility\n- [ ] GREEN: Implement file-based storage backend\n- [ ] GREEN: Verify files work with sqlite3 CLI\n- [ ] REFACTOR: Add Turso embedded replica sync","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:20:04.03968-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T17:30:58.806349-06:00","closed_at":"2026-01-23T17:30:58.806349-06:00","close_reason":"EPIC complete - RED and GREEN phases implemented, REFACTOR deferred"}
{"id":"sql-glij.1","title":"[RED] Node SQLite file read/write tests","description":"Write tests verifying .db files can be read by sqlite3 CLI, libsql, Turso","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:21:01.229843-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T13:12:06.180128-06:00","closed_at":"2026-01-23T13:12:06.180128-06:00","close_reason":"RED phase TDD tests created and committed","dependencies":[{"issue_id":"sql-glij.1","depends_on_id":"sql-glij","type":"parent-child","created_at":"2026-01-23T08:21:01.230543-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-glij.2","title":"[GREEN] Implement @libsql/client file backend","description":"Use @libsql/client with file: URLs for local SQLite access","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:21:07.828471-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T17:25:55.561875-06:00","closed_at":"2026-01-23T17:25:55.561875-06:00","close_reason":"GREEN phase implementations completed","dependencies":[{"issue_id":"sql-glij.2","depends_on_id":"sql-glij","type":"parent-child","created_at":"2026-01-23T08:21:07.829149-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-glij.2","depends_on_id":"sql-glij.1","type":"blocks","created_at":"2026-01-23T08:21:31.385797-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-glij.3","title":"[GREEN] Verify sqlite3 CLI can read DoSQL files","description":"Integration tests proving sqlite3 CLI reads DoSQL-created .db files","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:21:08.770934-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T17:30:43.779685-06:00","closed_at":"2026-01-23T17:30:43.779685-06:00","close_reason":"GREEN phase implementations completed","dependencies":[{"issue_id":"sql-glij.3","depends_on_id":"sql-glij","type":"parent-child","created_at":"2026-01-23T08:21:08.771697-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-glij.3","depends_on_id":"sql-glij.1","type":"blocks","created_at":"2026-01-23T08:21:32.207893-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-glij.4","title":"[REFACTOR] Add Turso embedded replica sync","description":"Implement background sync to Turso cloud using embedded replicas","status":"open","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:21:10.193844-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T08:21:10.193844-06:00","dependencies":[{"issue_id":"sql-glij.4","depends_on_id":"sql-glij","type":"parent-child","created_at":"2026-01-23T08:21:10.194615-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-glij.4","depends_on_id":"sql-glij.2","type":"blocks","created_at":"2026-01-23T08:21:33.077697-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-glij.4","depends_on_id":"sql-glij.3","type":"blocks","created_at":"2026-01-23T08:21:33.869609-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-gr7o","title":"Fix IN operator with literal value lists","description":"\n## Problem\nIN operator with literal lists returns empty instead of matching rows:\n```sql\nSELECT 1 FROM t1 WHERE 1 IN (1)  -- Returns nothing, should return rows\nSELECT 1 FROM t1 WHERE 1 IN (NULL, 1)  -- NULL handling incorrect\n```\n\n## TDD Approach\n\n### RED Phase\n- Add failing test in src/parser/__tests__/in-operator.test.ts\n- Test: IN with single literal value\n- Test: IN with multiple literal values\n- Test: IN with NULL in list\n- Test: NOT IN with literals\n\n### GREEN Phase\n- Fix parser/executor to evaluate IN with literal lists\n- Ensure proper NULL semantics (NULL IN (1,2) should be NULL, not false)\n\n### REFACTOR Phase\n- Extract IN evaluation to dedicated function\n- Add type coercion for mixed types in IN list\n\n## Files\n- packages/dosql/src/parser/dml.ts\n- packages/dosql/src/engine/operators/filter.ts\n","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:07:03.861372-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:20.997203-06:00","closed_at":"2026-01-30T10:42:20.997203-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-gt0m","title":"README: sql.do Landing - Storybrand WRITE","description":"Create compelling README using Storybrand framework. Developer is the hero discovering DoSQL for their data journey.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:17.644245-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:04:50.98982-06:00","closed_at":"2026-01-23T12:04:50.98982-06:00","close_reason":"Closed"}
{"id":"sql-gt0p","title":"[GREEN] Fix failing tests in r2-backend-errors.test.ts","description":"Fix 32 failing tests in packages/dosql/src/fsx/__tests__/r2-backend-errors.test.ts\n\n## Failing Test Categories:\n- Network timeout during read/write\n- R2 rate limit (429) response handling\n- Partial write failure detection\n- Checksum mismatch on read\n- Permission denied (403) handling\n- R2 bucket not bound error\n- Large object upload errors\n- Concurrent write conflicts\n- Read-your-writes consistency\n- Retry logic with exponential backoff\n- Circuit breaker pattern\n- Graceful degradation when R2 unavailable\n- Error chaining with cause\n\n## Test Patterns:\n- it.fails('should throw FSXError with WRITE_FAILED code on write timeout')\n- it.fails('should throw FSXError with rate limit details on 429')\n- it.fails('should retry failed operations with exponential backoff')\n- it.fails('should return cached data when R2 is unavailable for reads')","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:22:29.100826-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:01:18.020593-06:00","closed_at":"2026-01-23T10:01:18.020593-06:00","close_reason":"Closed"}
{"id":"sql-gyg","title":"[GREEN] Branded Type Enforcement - Fix factory function usage","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:39.187577-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:30.066634-06:00","closed_at":"2026-01-22T11:03:30.066634-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-gyg","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:03.285493-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-h150","title":"REFACTOR: Remove duplicate declare statements in branded-types.test.ts","description":"In branded-types.test.ts lines 487-503, there are declare statements for functions that are already imported from the module at lines 22-48. These declarations are labeled 'Placeholder declarations so TypeScript doesn't error' but are no longer needed since the functions are now implemented and exported. These duplicate declarations can cause confusion and should be removed.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:18.211131-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:20:22.229393-06:00","closed_at":"2026-01-22T18:20:22.229393-06:00","close_reason":"Already resolved - test file properly imports types instead of declaring them"}
{"id":"sql-h1c","title":"v0.2.0 Release","status":"closed","priority":0,"issue_type":"epic","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:39:51.916266-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:43.137309-06:00","closed_at":"2026-01-22T11:03:43.137309-06:00","close_reason":"Closed"}
{"id":"sql-h20c","title":"REFACTOR: Add generic type parameter to isValid* type guard functions","description":"Type guard functions isValidLSN, isValidTransactionId, isValidShardId, isValidStatementHash (lines 231-254) all take 'value: unknown' and return type predicates. These could benefit from a generic helper type: 'type TypeGuard\u003cT\u003e = (value: unknown) =\u003e value is T'. This would make the type signatures more consistent and allow creating new type guards more easily. Also consider a generic createTypeGuard factory.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:26.90836-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:46:44.630639-06:00","closed_at":"2026-01-22T18:46:44.630639-06:00","close_reason":"Type guards are already properly typed. The existing generics are superfluous - the conditional types (e.g., T extends bigint ? LSN : LSN) always resolve to the branded type regardless of T. The 'value is BrandedType' return type is the standard TypeScript type guard pattern and correctly narrows types. Adding generics provides no additional type safety; simpler non-generic signatures (value: unknown): value is LSN would be equivalent and more readable."}
{"id":"sql-h43y","title":"EDIT: Add JSDoc @example tags to WebSocketHandler public methods","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:39.657432-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:19:38.362819-06:00","closed_at":"2026-01-22T19:19:38.362819-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-h8wu","title":"REFACTOR: CacheInvalidator metrics object has 16+ fields - consider grouping","description":"The CacheMetrics interface in cache-invalidation.ts has 16+ fields tracking various statistics. Consider grouping related metrics (e.g., invalidation metrics, stale read metrics, operation counts) into sub-objects for better organization.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:41.617273-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:16:14.501067-06:00","closed_at":"2026-01-22T17:16:14.501067-06:00","close_reason":"Closed"}
{"id":"sql-hdhx","title":"Fix FSX tiered storage - eviction, concurrent writes, retry (3 tests)","status":"open","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:51.143868-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:51.143868-06:00"}
{"id":"sql-hfr","title":"EDIT: JSDoc LRUCache class missing @internal documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:19.046221-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:31:39.396819-06:00","closed_at":"2026-01-23T02:31:39.396819-06:00","close_reason":"Already documented - @returns and @internal tags present"}
{"id":"sql-hjk","title":"TDD: Implement proper CIDR matching in rate-limiter.ts","description":"General Review: isInCidr method lines 711-730 only handles hardcoded private ranges. Implement proper bitwise CIDR matching using parsed mask.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:26.204192-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:36:34.373775-06:00","closed_at":"2026-01-22T14:36:34.373775-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-hm0m","title":"EDIT: shared-types index.ts ConnectionOptions/ConnectionStats missing JSDoc @example","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:56.409034-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:14:35.582788-06:00","closed_at":"2026-01-22T19:14:35.582788-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-ht88","title":"EDIT: Add JSDoc to RateLimiter private methods (calculateRetryDelay, updateLoadLevel)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:19.383001-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:30:17.542963-06:00","closed_at":"2026-01-22T19:30:17.542963-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-hual","title":"EDIT: Add JSDoc to serialization.ts bigintReviver function","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:09.941182-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:18:29.54883-06:00","closed_at":"2026-01-22T17:18:29.54883-06:00","close_reason":"bigintReviver already has complete JSDoc documentation with @example"}
{"id":"sql-hum3","title":"EDIT: JSDoc ConnectedEvent and DisconnectedEvent interfaces missing @since tags","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:27.325504-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T20:05:48.08944-06:00","closed_at":"2026-01-22T20:05:48.08944-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-huzl","title":"README: sql.do Landing - Storybrand REWRITE","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:20.622445-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:31:13.844056-06:00","closed_at":"2026-01-23T12:31:13.844056-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-huzl","depends_on_id":"sql-a0xc","type":"blocks","created_at":"2026-01-23T12:02:31.896759-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-i1r","title":"FIX: Add LRU/TTL cleanup to idempotencyKeyCache","description":"General Review: idempotencyKeyCache Map in sql.do client has no size limit. Add LRU eviction or TTL cleanup.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:20.369547-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:12:14.873808-06:00","closed_at":"2026-01-22T12:12:14.873808-06:00","close_reason":"GREEN phase complete - tests passing"}
{"id":"sql-i4cq","title":"Fix type-compatibility.test.ts dolake module load failure","status":"open","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:55.880923-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:55.880923-06:00"}
{"id":"sql-i4qb","title":"Fix Bun REPL skipped tests - local SQLite, errors, signals (12 tests)","status":"in_progress","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:47.134732-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:54:25.79048-06:00"}
{"id":"sql-i76","title":"[EDIT] Add TypeScript Strict Guide - Document strict settings in TYPESCRIPT.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:44.090691-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:48:10.758689-06:00","closed_at":"2026-01-22T08:48:10.758689-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-i76","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:06.478808-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-i8f","title":"REFACTOR: Extract idempotency key utilities to separate module","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:43.691918-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:17:52.657969-06:00","closed_at":"2026-01-22T17:17:52.657969-06:00","close_reason":"Extracted idempotency key utilities to /Users/nathanclevenger/projects/sql/packages/sql.do/src/idempotency.ts with IdempotencyKeyManager class"}
{"id":"sql-i8wy","title":"EDIT: TESTING_REVIEW.md - Add section on running specific test subsets by module","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:00.224331-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:16:41.097215-06:00","closed_at":"2026-01-22T19:16:41.097215-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-ib7","title":"TEST: Add lake.do client SDK tests (zero coverage)","description":"Testing Review: lake.do has ZERO tests. Add comprehensive client tests for CDC, analytics, query methods.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:50:58.829662-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:26:04.624437-06:00","closed_at":"2026-01-22T12:26:04.624437-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-icdy","title":"DOCS: SvelteKit Integration - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:20.608876-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:26:14.16459-06:00","closed_at":"2026-01-23T12:26:14.16459-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-icdy","depends_on_id":"sql-7loi","type":"blocks","created_at":"2026-01-23T12:02:36.319297-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-ig2g","title":"DOCS: Hono Integration - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:25.335251-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:38:05.743832-06:00","closed_at":"2026-01-23T12:38:05.743832-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-ig2g","depends_on_id":"sql-kady","type":"blocks","created_at":"2026-01-23T12:02:41.362541-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-iiu2","title":"[GREEN] Fix failing tests in cli.test.ts","description":"Fix 29 failing tests in packages/dosql/src/__tests__/cli.test.ts\n\n## Failing Test Categories:\n- dosql init command (config creation, migrations directory)\n- dosql migrate command (run migrations, dry-run, tracking)\n- dosql shell command (interactive prompt, tabular display)\n- dosql query command (JSON/table/CSV output formats)\n- CLI --config flag handling\n- CLI error handling (connection errors, invalid SQL, missing tables)\n- CLI argument parsing (commands, flags, options)\n- CLI binary entry point\n\n## Test Patterns:\n- it.fails('should create dosql.config.json with default settings')\n- it.fails('should run pending migrations in order')\n- it.fails('should execute SQL and output result as JSON by default')\n- it.fails('should handle connection errors gracefully')\n- it.fails('should export main function for bin entry')","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:22:36.556895-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:17:42.748559-06:00","closed_at":"2026-01-23T10:17:42.748559-06:00","close_reason":"Closed"}
{"id":"sql-imaa","title":"EDIT: shared-types config.ts missing JSDoc for WrapperCacheConfig interface properties","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:25.689832-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:19:38.457054-06:00","closed_at":"2026-01-22T19:19:38.457054-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-irje","title":"EDIT: shared-types README API Reference table missing isValidatedStatementHash function","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:05.067849-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:14:35.558398-06:00","closed_at":"2026-01-22T19:14:35.558398-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-irlp","title":"EDIT: shared-types index.ts ForeignKeyDefinition interface missing JSDoc @example","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:32.75901-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:18:20.264901-06:00","closed_at":"2026-01-22T17:18:20.264901-06:00","close_reason":"Added JSDoc with @example to ForeignKeyDefinition interface"}
{"id":"sql-itgc","title":"EDIT: shared-types README version mismatch - shows 0.1.0-alpha but package.json is 0.1.0","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:23.431686-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:11:05.075496-06:00","closed_at":"2026-01-22T17:11:05.075496-06:00","close_reason":"Fixed README version mismatch - updated 0.1.0-alpha to 0.1.0 to match package.json"}
{"id":"sql-j068","title":"DOCS: NextJS Integration - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:22.624593-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:35:22.177894-06:00","closed_at":"2026-01-23T12:35:22.177894-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-j068","depends_on_id":"sql-z1b6","type":"blocks","created_at":"2026-01-23T12:02:39.423111-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-j3fr","title":"REFACTOR: CDCEvent has redundant data fields (before/after vs oldRow/newRow)","description":"CDCEvent interface (lines 781-819) has duplicate ways to represent row data: 'before/after' (lines 806-809) and 'oldRow/newRow' (lines 810-813). The converters serverToClientCDCEvent and clientToServerCDCEvent handle both formats with fallback logic. Consider deprecating one set and standardizing on 'before/after' which is more semantically clear.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:52.775386-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:15.359004-06:00","closed_at":"2026-01-22T17:19:15.359004-06:00","close_reason":"Closed"}
{"id":"sql-j5fq","title":"REFACTOR: index.ts file is too large (1750+ lines) - split into separate modules","description":"The main index.ts file has grown to 1750+ lines with many distinct concerns: branded types (1-500), query types (600-800), CDC types (750-850), transaction types (850-900), RPC types (880-970), schema types (990-1040), Result pattern (1270-1620), retry config (1620-1750). Consider splitting into separate files (branded-types.ts, query.ts, cdc.ts, rpc.ts, result.ts, etc.) with index.ts re-exporting.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:25.796125-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:24:26.644955-06:00","closed_at":"2026-01-22T17:24:26.644955-06:00","close_reason":"Closed"}
{"id":"sql-jcun","title":"EDIT: src/fsx/cow-types.ts - Add JSDoc for Branch merge strategies and conflict resolution","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:58.980329-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:16:41.123671-06:00","closed_at":"2026-01-22T19:16:41.123671-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-jf6l","title":"Fix scalar subqueries in SELECT expressions","description":"\n## Problem\nScalar subqueries in CASE WHEN produce wrong results:\n```sql\nSELECT CASE WHEN c\u003e(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END FROM t1\n-- Produces results but hash doesn't match expected\n```\n\n## TDD Approach\n\n### RED Phase\n- Add failing test in src/parser/__tests__/scalar-subquery.test.ts\n- Test: Scalar subquery in CASE WHEN condition\n- Test: Scalar subquery with aggregate function\n- Test: Multiple scalar subqueries in same SELECT\n\n### GREEN Phase\n- Fix subquery evaluation in expression context\n- Ensure subquery is evaluated once, not per-row (when uncorrelated)\n\n### REFACTOR Phase\n- Cache uncorrelated subquery results\n- Add subquery flattening optimization\n\n## Files\n- packages/dosql/src/engine/operators/project.ts\n- packages/dosql/src/planner/subquery.ts\n","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:07:06.359966-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:21.00113-06:00","closed_at":"2026-01-30T10:42:21.00113-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-jhm","title":"REFACTOR: Duplicate code for cache key generation (sql + JSON.stringify(params))","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:53.978384-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:28:00.459103-06:00","closed_at":"2026-01-22T18:28:00.459103-06:00","close_reason":"Won't fix - Over-engineering concern: The pattern 'sql + JSON.stringify(params ?? [])' is a one-liner that is self-documenting. Creating a utility function for this adds indirection without significant benefit. Per the codebase guidelines: 'Don't create helpers, utilities, or abstractions for one-time operations' and 'three similar lines of code is better than a premature abstraction'."}
{"id":"sql-jkh9","title":"Implement RIGHT OUTER JOIN, FULL OUTER JOIN, computed aliases (4 tests)","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:43.289154-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:43.289154-06:00"}
{"id":"sql-jl7l","title":"REFACTOR: Duplicated JSON response helpers in catalog-router.ts","description":"The jsonResponse and errorResponse helper functions are defined at module level but similar patterns exist elsewhere. Consider extracting to a shared http-utils module for consistent response formatting across handlers.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:40.711429-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:16:12.055283-06:00","closed_at":"2026-01-22T17:16:12.055283-06:00","close_reason":"Closed"}
{"id":"sql-jlu8","title":"EDIT: shared-types README runWrapperCacheCleanup function documented but implementation is placeholder","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:30.995746-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:29:16.121213-06:00","closed_at":"2026-01-22T18:29:16.121213-06:00","close_reason":"Fixed: Removed reference to non-existent runWrapperCacheCleanup function from CHANGELOG.md. Only getWrapperMapStats() and clearWrapperMaps() are actually implemented."}
{"id":"sql-jlw6","title":"REFACTOR: Replace 'as any' type assertions with proper generics","description":"Over 50 occurrences of 'as any' type assertions found in source files. Key locations include: wal/writer.ts line 132 (map callback), triggers/registry.ts line 155 (type guard), statement/types.ts line 274/482 (transaction types), engine/executor.ts line 189 (plan type), engine/operators/cte.ts lines 410/417 (type guards), engine/operators/window.ts line 69 (circular import workaround). Replace with proper generic constraints, type guards, or explicit type annotations.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:01.935504-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:44:56.335203-06:00","closed_at":"2026-01-22T18:44:56.335203-06:00","close_reason":"Replaced 4 'as any' type assertions in packages/sql.do/src/pool.ts with proper type definitions: (1) Added missing pool types (PoolConfig, PoolStats, PoolHealth, ConnectionInfo, PoolEventMap, DEFAULT_POOL_CONFIG) to types.ts, (2) Replaced WebSocket constructor 'as any' with proper interface extension using WebSocketConstructorWithReadyStates, (3) Replaced event listener Map 'as any' with typed PoolEventListener alias and targeted type assertions in on/off methods. The refactoring maintains full type safety at the public API level while using minimal, documented type assertions for internal TypeScript limitations with heterogeneous Maps."}
{"id":"sql-jmkk","title":"DOCS: NextJS Integration - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:19.712759-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:04:46.366386-06:00","closed_at":"2026-01-23T12:04:46.366386-06:00","close_reason":"Closed"}
{"id":"sql-jtq8","title":"DOCS: Astro Integration - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:30.440213-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:45:56.526817-06:00","closed_at":"2026-01-23T12:45:56.526817-06:00","close_reason":"Completed final rewrite of Astro integration guide. Updated to current platformProxy API, fixed TypeScript types, simplified code examples, improved database schema to use INTEGER for booleans, streamlined from 2810 to 1811 lines, and ensured all patterns are accurate and publication-ready.","dependencies":[{"issue_id":"sql-jtq8","depends_on_id":"sql-6lev","type":"blocks","created_at":"2026-01-23T12:02:43.812446-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-jw89","title":"Add columnar buffer bounds checking","description":"\n## Problem (CRITICAL - Memory Safety)\nColumnar writer has no bounds checking on buffer.set():\n```typescript\n// columnar/writer.ts:443-459\nconst buffer = new Uint8Array(totalSize);\nbuffer.set(value, offset);  // Could overflow if size estimation wrong!\n```\n\n## TDD Approach\n\n### RED Phase\n- Add test in src/columnar/__tests__/writer-safety.test.ts\n- Test: Buffer overflow with malformed data\n- Test: Assertion on offset + length \u003e totalSize\n- Test: Recovery from size estimation errors\n\n### GREEN Phase\n- Add bounds check: if (offset + value.length \u003e totalSize) throw\n- Add assertions in debug mode\n\n### REFACTOR Phase\n- Consider dynamic buffer resizing\n- Add telemetry for size estimation accuracy\n\n## Files\n- packages/dosql/src/columnar/writer.ts\n","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:07:29.893426-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:20.994488-06:00","closed_at":"2026-01-30T10:42:20.994488-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-jwa4","title":"REFACTOR: WrapperCacheConfig mode field is unused","description":"WrapperCacheConfig interface has a 'mode' field (line 30) supporting 'lru' | 'ttl' | 'fifo' but only 'lru' is implemented. The eviction functions only implement LRU behavior regardless of the mode setting. Either implement the other modes or remove the mode field and document that only LRU is supported. TTL mode test is marked .fails confirming it's not implemented.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:59.64969-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:24:27.037136-06:00","closed_at":"2026-01-22T17:24:27.037136-06:00","close_reason":"Closed"}
{"id":"sql-k5dy","title":"Fix sharding router edge cases - functions, subquery, UNION (3 tests)","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:49.015661-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:49.015661-06:00"}
{"id":"sql-k5f","title":"[REWRITE] sql.do README - Expand with full API reference, advanced patterns","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:39.547353-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:33.471567-06:00","closed_at":"2026-01-22T11:03:33.471567-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-k5f","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:40:44.536563-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-kady","title":"DOCS: Hono Integration - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:23.697452-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:26:14.166762-06:00","closed_at":"2026-01-23T12:26:14.166762-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-kady","depends_on_id":"sql-mkba","type":"blocks","created_at":"2026-01-23T12:02:38.821751-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-keue","title":"Fix cross-DO failover rejection when no healthy candidates (1 test)","status":"open","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:53.77853-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:53.77853-06:00"}
{"id":"sql-khbd","title":"REFACTOR: Replace 'as any' type cast with proper type extension in websocket-handler.ts","description":"Line 603-604 uses 'as any' to add rateLimit property to message. Create a proper extended type or use a type-safe approach instead of casting to any.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:56.015057-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:46:50.730554-06:00","closed_at":"2026-01-22T18:46:50.730554-06:00","close_reason":"No 'as any' type casts found in websocket-handler.ts - file already uses proper type assertions with specific types like 'as ExtendedWebSocketAttachment | null' and 'as WebSocketAttachment'"}
{"id":"sql-kk8m","title":"EDIT: README.md - Add documentation for cache invalidation module","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:05.073204-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:34:54.094308-06:00","closed_at":"2026-01-22T19:34:54.094308-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-koo","title":"[RED] R2 Circuit Breaker - Tests for circuit breaker pattern in R2 backend","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:47.508302-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:19.686265-06:00","closed_at":"2026-01-22T08:47:19.686265-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-koo","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:11.176374-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-kph","title":"EDIT: README missing CHANGELOG section and link","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:48.730651-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:42:49.125074-06:00","closed_at":"2026-01-23T02:42:49.125074-06:00","close_reason":"Closed"}
{"id":"sql-kqak","title":"EDIT: docs/API.md - Document POST /cdc HTTP endpoint for non-WebSocket ingestion","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:17.065368-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:34:53.984984-06:00","closed_at":"2026-01-22T19:34:53.984984-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-kqqw","title":"DOCS: Astro Integration - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:27.885106-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:19:06.6197-06:00","closed_at":"2026-01-23T12:19:06.6197-06:00","close_reason":"Closed"}
{"id":"sql-kre4","title":"DOCS: Vector Search - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:28.765995-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:28:16.484419-06:00","closed_at":"2026-01-23T12:28:16.484419-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-kre4","depends_on_id":"sql-ox2i","type":"blocks","created_at":"2026-01-23T12:02:41.512542-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-kvrd","title":"REFACTOR: Consolidate rpc.do, cli.do, oauth.do into sql.do/lake.do","description":"Consolidate standalone packages into main products:\n- rpc.do  @dotdo/dosql/rpc and @dotdo/lake.do/rpc\n- cli.do  @dotdo/dosql/cli and @dotdo/lake.do/cli  \n- oauth.do  @dotdo/dosql/auth and @dotdo/lake.do/auth\n\nBenefits:\n- Fewer packages to maintain\n- Simpler dependency graph\n- Better cohesion within products","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:20:47.176943-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T05:49:30.537491-06:00","closed_at":"2026-01-24T05:49:30.537491-06:00","close_reason":"rpc.do, oauth.do, @dotdo/cli integrated as optional peer deps with subpath exports"}
{"id":"sql-kwft","title":"EDIT: lake.do experimental.ts missing usage example showing import path","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:30.618371-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:32:02.702037-06:00","closed_at":"2026-01-23T02:32:02.702037-06:00","close_reason":"Already has usage example with import path at lines 20-32"}
{"id":"sql-ky4e","title":"REFACTOR: Replace magic numbers with named constants (WebSocket.READY_STATE_OPEN)","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:30.138806-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:20:07.526368-06:00","closed_at":"2026-01-22T18:20:07.526368-06:00","close_reason":"Closed"}
{"id":"sql-l47b","title":"Convert generic Error throws to typed errors","description":"\n## Problem\nQuery optimizer and other modules throw generic Error:\n```typescript\n// planner/optimizer.ts:883-947\nif (tables.length === 0) {\n  throw new Error('No tables to join');  // No context!\n}\n```\n\n## TDD Approach\n\n### RED Phase\n- Add test that errors include proper type and context\n- Test: PlannerError includes query context\n- Test: Error codes are standardized\n\n### GREEN Phase\n- Create typed error classes (PlannerError, ExecutorError, etc.)\n- Replace generic Error with typed errors\n- Add error context (query, tables, etc.)\n\n### REFACTOR Phase\n- Standardize error codes across codebase\n- Add error serialization for RPC responses\n\n## Files\n- packages/dosql/src/errors/index.ts\n- packages/dosql/src/planner/optimizer.ts\n","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:08:19.954197-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:21.014816-06:00","closed_at":"2026-01-30T10:42:21.014816-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-l4re","title":"EDIT: src/wal/index.ts - Add JSDoc @param descriptions for createTransaction function parameters","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:30.977833-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:55:10.062197-06:00","closed_at":"2026-01-22T19:55:10.062197-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-l810","title":"EDIT: Add JSDoc @throws annotations to flush() method and flushManager","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:21.491726-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:33:13.177415-06:00","closed_at":"2026-01-22T18:33:13.177415-06:00","close_reason":"Won't fix: The flush() method doesn't throw exceptions - it catches all errors internally and returns a FlushResult with success: false and error: string. Adding @throws annotations would be misleading. The error handling design is intentional for graceful degradation and fallback support."}
{"id":"sql-l8sr","title":"[GREEN] Fix failing tests in ws-hibernation.test.ts","description":"Fix 24 failing tests in packages/dosql/src/__tests__/ws-hibernation.test.ts\n\n## Failing Test Categories:\n- Durable Object Hibernation API usage\n- WebSocket message/close/error handlers\n- WebSocket state management via attachments\n- Transaction state persistence across hibernation\n- Connection tags for management (database/branch, client identity)\n- Hibernation wake-up handling\n- Session state restoration\n- Alarm integration with hibernation\n- RPC session persistence (prepared statements, metrics)\n- Idle connection cost reduction\n\n## Test Patterns:\n- it.fails('should accept WebSocket connections with hibernation API')\n- it.fails('should persist transaction state across hibernation')\n- it.fails('should tag connections by database/branch')\n- it.fails('should restore session state on wake')\n- it.fails('should schedule alarm for idle connection cleanup')","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:22:41.794802-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:01:18.023013-06:00","closed_at":"2026-01-23T10:01:18.023013-06:00","close_reason":"Closed"}
{"id":"sql-lapz","title":"[GREEN] Fix failing tests in distributed-transactions.test.ts","description":"Fix 20 failing tests in packages/dosql/src/__tests__/distributed-transactions.test.ts\n\n## Failing Test Categories:\n- Cross-shard atomic commit/rollback\n- Cross-shard INSERT operations\n- Constraint violation rollback\n- 2PC prepare phase (row locking, durable transaction log)\n- 2PC commit phase (lock release, idempotency)\n- Failure recovery (coordinator/participant failures)\n- Timeout handling\n- Read-your-writes in distributed transactions\n- Serializable/snapshot isolation across shards\n- Coordinator crash recovery\n\n## Test Patterns:\n- it.fails('cross-shard transaction commits atomically')\n- it.fails('2PC prepare phase locks affected rows')\n- it.fails('coordinator failure during prepare causes rollback')\n- it.fails('read-your-writes within distributed transaction')\n- it.fails('coordinator recovers in-flight transactions after crash')","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:22:48.831946-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:17:42.751318-06:00","closed_at":"2026-01-23T10:17:42.751318-06:00","close_reason":"Closed"}
{"id":"sql-lbcf","title":"EDIT: README.md - Add wrangler.toml configuration example for R2/KV bindings","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:33.97648-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:03:38.37803-06:00","closed_at":"2026-01-22T19:03:38.37803-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-lco8","title":"REFACTOR: Add generics to error registry in errors/base.ts","description":"errors/base.ts lines 288/295 use 'new (...args: any[]) =\u003e DoSQLError' for the error registry. This loses type safety for error constructor parameters. Consider using a generic constraint like 'new (...args: ConstructorParameters\u003cT\u003e) =\u003e T extends DoSQLError' to preserve type information during error creation.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:58.862176-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:09.849029-06:00","closed_at":"2026-01-22T17:20:09.849029-06:00","close_reason":"Closed"}
{"id":"sql-lf0g","title":"EDIT: shared-types index.ts LRU helper functions missing JSDoc (evictStringWrappersIfNeeded, touchStringLru, etc)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:22.469988-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:18:23.079885-06:00","closed_at":"2026-01-22T17:18:23.079885-06:00","close_reason":"Added JSDoc comments to LRU helper functions"}
{"id":"sql-lfy","title":"[RED] Warm Tier Cache Invalidation - Tests for R2 cache invalidation on updates","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:46.039906-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:39.726165-06:00","closed_at":"2026-01-22T08:47:39.726165-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-lfy","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:10.112825-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-lg6c","title":"DOCS: Benchmarks \u0026 Performance - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:26.000155-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:28:16.477381-06:00","closed_at":"2026-01-23T12:28:16.477381-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-lg6c","depends_on_id":"sql-a6k7","type":"blocks","created_at":"2026-01-23T12:02:41.067035-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-lj2j","title":"EDIT: docs/ARCHITECTURE.md - Add CacheInvalidator to component diagram","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:29.890931-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:30:17.499434-06:00","closed_at":"2026-01-22T19:30:17.499434-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-ljpd","title":"REFACTOR: Optimize utilizationPercent calculation in CDCStreamController","description":"The checkWaterMarks() method (lines 1221-1251) recalculates utilizationPercent even when no callbacks are registered. Consider: 1) Early return if neither highWaterMark nor lowWaterMark is configured 2) Cache the calculation result to avoid redundant Math.round() calls 3) This is called on every push() and during iteration which could add up under high throughput","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:11.67101-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:22:16.854801-06:00","closed_at":"2026-01-22T18:22:16.854801-06:00","close_reason":"Won't fix - Math.round((length/max)*100) is O(1) and negligible overhead; added caching complexity not justified"}
{"id":"sql-lkof","title":"SQLLogicTest INSERT compat - DEFAULT, multi-VALUES, expressions (10 tests)","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:39.989142-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:39.989142-06:00"}
{"id":"sql-llhy","title":"EDIT: README branded types section missing validation functions documentation (isValidLSN, isValidTransactionId, etc.)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:01.203121-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:46:36.025162-06:00","closed_at":"2026-01-22T19:46:36.025162-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-lni","title":"[EDIT] Improve Getting Started - Add more examples to packages/dosql/docs/getting-started.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:43.086254-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:48:19.481401-06:00","closed_at":"2026-01-22T08:48:19.481401-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-lni","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:04.906166-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-lods","title":"REFACTOR: transformCompactionJob method uses excessive conditional property assignment","description":"The transformCompactionJob() method in client.ts (lines 751-777) has 10 conditional assignments checking for undefined. Consider: 1) Use spread operator with Object.fromEntries to filter undefined 2) Create a utility function like 'pick' or 'omitUndefined' 3) Define optional properties with explicit undefined handling at the type level. This pattern appears verbose and error-prone when adding new optional fields.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:59.498116-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:22:50.085257-06:00","closed_at":"2026-01-22T18:22:50.085257-06:00","close_reason":"Already addressed in transformers.ts - shared transformCompactionJob function exists with proper validation"}
{"id":"sql-lrdp","title":"EDIT: SQLError class missing suggestion property for error recovery hints","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:21.908591-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:26:29.960978-06:00","closed_at":"2026-01-22T19:26:29.960978-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-lrv1","title":"EDIT: docs/advanced.md - Add example of using ForeignKeySchema in migrations","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:22.725658-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:46:35.952285-06:00","closed_at":"2026-01-22T19:46:35.952285-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-lrw2","title":"EDIT: dosql-cli - Document migrate command's incomplete database connection state","description":"The migrate command in index.ts has a comment 'In real usage, this would connect to a database' indicating incomplete implementation. This needs clearer documentation about what's missing, how to provide database connection, and current limitations. Consider adding TODO markers with issue references.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:28.308195-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:23:48.534251-06:00","closed_at":"2026-01-22T17:23:48.534251-06:00","close_reason":"Added comprehensive TODO documentation for incomplete migrate command database connection, including inline code example for programmatic API usage, future CLI option placeholders, and user-facing message directing to README"}
{"id":"sql-luc9","title":"EDIT: architecture.md - Add latency and throughput performance expectations for each storage tier","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:05.296847-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:55:09.950989-06:00","closed_at":"2026-01-22T19:55:09.950989-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-lvsb","title":"EDIT: docs/ARCHITECTURE.md - Add sequence diagram for WebSocket message flow","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:45.711604-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:03:38.305793-06:00","closed_at":"2026-01-22T19:03:38.305793-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-m1i9","title":"EDIT: dosql-cli - Document version hardcoded in multiple places","description":"Version '0.1.0' is hardcoded in both package.json and index.ts (program.version()). Add comment in index.ts noting this coupling and consider documenting how version should be updated (or implement reading from package.json).","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:51.090907-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:24:46.973816-06:00","closed_at":"2026-01-22T17:24:46.973816-06:00","close_reason":"Added inline comment documenting version hardcoding in index.ts with instructions for updating version across package.json, index.ts, and CHANGELOG.md, plus TODO for future improvement"}
{"id":"sql-m63","title":"REFACTOR: Remove unused event listener type 'any' casting in eventListeners Map","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:02.578769-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:27:04.981987-06:00","closed_at":"2026-01-22T18:27:04.981987-06:00","close_reason":"By design: TypeScript cannot express Maps where value types depend on keys. The internal storage uses 'any' but the public API (on/off methods) is fully type-safe with generic constraints. This is the standard pattern for type-safe event emitters in TypeScript."}
{"id":"sql-m7k0","title":"EDIT: Add JSDoc to DoLake constructor dependencies explanation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:50.228162-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:26:29.870557-06:00","closed_at":"2026-01-22T19:26:29.870557-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-m7uq","title":"REFACTOR: Extract LRU cache logic into reusable generic class","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:38.642798-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:28:24.912743-06:00","closed_at":"2026-01-22T18:28:24.912743-06:00","close_reason":"Already implemented: LRUCache generic class exists at packages/sql.do/src/lru-cache.ts with full TTL support, stats tracking, and cleanup functionality. Both issues were duplicates."}
{"id":"sql-mb9","title":"REFACTOR: Remove as-any casts in proc/executor and proc/functional","description":"TypeScript Review: Multiple 'as any' casts in production code paths. Use proper typing or type guards.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:24.361434-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:29:50.57463-06:00","closed_at":"2026-01-22T12:29:50.57463-06:00","close_reason":"GREEN phase complete - as-any casts removed"}
{"id":"sql-mc40","title":"[EPIC] Bun CLI REPL","description":"Build a Bun-based CLI REPL for DoSQL with local file and remote server support.\n\n## Modes\n1. **Local** - bun:sqlite for .db files (zero latency)\n2. **Remote HTTP** - Batch RPC to DO endpoints\n3. **Remote WebSocket** - Streaming via CapnWeb\n4. **Hybrid** - Local replica with background sync\n\n## Features (MVP)\n- Multi-line SQL input with smart continuation\n- Command history (persisted to .dosql_history)\n- Output formats: table, json, csv\n- Metacommands: .tables, .schema, .indexes, .help\n\n## Deliverables\n- [ ] RED: Write tests for REPL input/output\n- [ ] GREEN: Implement local mode with bun:sqlite\n- [ ] GREEN: Add remote HTTP/WS modes\n- [ ] REFACTOR: Add tab completion, syntax highlighting","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:20:19.454285-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T17:30:58.804781-06:00","closed_at":"2026-01-23T17:30:58.804781-06:00","close_reason":"EPIC complete - RED and GREEN phases implemented, REFACTOR deferred"}
{"id":"sql-mc40.1","title":"[RED] Bun REPL input/output tests","description":"Write tests for multi-line input, history, output formatting","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:20:53.40603-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T13:12:06.152763-06:00","closed_at":"2026-01-23T13:12:06.152763-06:00","close_reason":"RED phase TDD tests created and committed","dependencies":[{"issue_id":"sql-mc40.1","depends_on_id":"sql-mc40","type":"parent-child","created_at":"2026-01-23T08:20:53.406713-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-mc40.2","title":"[GREEN] Implement REPL local mode with bun:sqlite","description":"Local file access via bun:sqlite, readline input","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:20:54.443403-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T17:25:55.560104-06:00","closed_at":"2026-01-23T17:25:55.560104-06:00","close_reason":"GREEN phase implementations completed","dependencies":[{"issue_id":"sql-mc40.2","depends_on_id":"sql-mc40","type":"parent-child","created_at":"2026-01-23T08:20:54.444154-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-mc40.2","depends_on_id":"sql-mc40.1","type":"blocks","created_at":"2026-01-23T08:21:24.084067-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-mc40.3","title":"[GREEN] Add REPL remote HTTP/WebSocket modes","description":"Connect to DO endpoints via HTTP batch and WebSocket streaming","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:20:56.002604-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T17:30:43.775745-06:00","closed_at":"2026-01-23T17:30:43.775745-06:00","close_reason":"GREEN phase implementations completed","dependencies":[{"issue_id":"sql-mc40.3","depends_on_id":"sql-mc40","type":"parent-child","created_at":"2026-01-23T08:20:56.003296-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-mc40.3","depends_on_id":"sql-mc40.1","type":"blocks","created_at":"2026-01-23T08:21:25.622582-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-mc40.4","title":"[REFACTOR] Add REPL tab completion and highlighting","description":"Schema-aware tab completion, SQL syntax highlighting","status":"open","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:20:56.896563-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T08:20:56.896563-06:00","dependencies":[{"issue_id":"sql-mc40.4","depends_on_id":"sql-mc40","type":"parent-child","created_at":"2026-01-23T08:20:56.897289-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-mc40.4","depends_on_id":"sql-mc40.2","type":"blocks","created_at":"2026-01-23T08:21:26.485089-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-mc40.4","depends_on_id":"sql-mc40.3","type":"blocks","created_at":"2026-01-23T08:21:27.903156-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-mgyl","title":"DOCS: Architecture Overview - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:01:33.448862-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:27:22.838022-06:00","closed_at":"2026-01-23T12:27:22.838022-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-mgyl","depends_on_id":"sql-ntgh","type":"blocks","created_at":"2026-01-23T12:01:33.449922-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-mgyl","depends_on_id":"sql-b7y7","type":"blocks","created_at":"2026-01-23T12:01:46.544896-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-mjf","title":"REFACTOR: Extract LRUCache class to standalone module","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:42.233264-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:17:51.230313-06:00","closed_at":"2026-01-22T17:17:51.230313-06:00","close_reason":"Extracted LRUCache class to standalone /Users/nathanclevenger/projects/sql/packages/sql.do/src/lru-cache.ts module with TTL support and LRU eviction"}
{"id":"sql-mkba","title":"DOCS: Hono Integration - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:22.690828-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:19:08.513604-06:00","closed_at":"2026-01-23T12:19:08.513604-06:00","close_reason":"Closed"}
{"id":"sql-mlvd","title":"EDIT: shared-types README missing documentation for wrapper cache config (setWrapperCacheConfig, getWrapperCacheConfig)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:13.437442-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:34:12.661944-06:00","closed_at":"2026-01-22T18:34:12.661944-06:00","close_reason":"Fixed: Added setWrapperCacheConfig() and getWrapperCacheConfig() to the Runtime Utilities section of shared-types README with function descriptions and code examples showing configuration options (maxSize, ttlMs, enabled)."}
{"id":"sql-mmkg","title":"REFACTOR: Duplicated table pattern matching in catalog-router.ts handlers","description":"Multiple handlers in catalog-router.ts use similar patterns to extract table names from SQL (regex matching /FROM\\s+(\\w+)/i) and load partition specs. Extract into a shared helper method.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:43.356369-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:16:10.828809-06:00","closed_at":"2026-01-22T17:16:10.828809-06:00","close_reason":"Closed"}
{"id":"sql-mrus","title":"REFACTOR: isRetryableError - use Set instead of array with includes() for O(1) lookup","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:27.702633-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:20:07.477211-06:00","closed_at":"2026-01-22T18:20:07.477211-06:00","close_reason":"Closed"}
{"id":"sql-mu9l","title":"REFACTOR: Extract LRU cache logic into reusable generic class","description":"In index.ts, the LRU cache implementation is duplicated between string wrappers and LSN wrappers. Functions touchStringLru/touchLsnLru and evictStringWrappersIfNeeded/evictLsnWrappersIfNeeded are nearly identical. Extract into a generic LRUCache\u003cK,V\u003e class that can be reused. This will reduce code duplication (~40 lines) and make the cache behavior easier to test and maintain.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:44.877341-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:28:24.936096-06:00","closed_at":"2026-01-22T18:28:24.936096-06:00","close_reason":"Already implemented: LRUCache generic class exists at packages/sql.do/src/lru-cache.ts with full TTL support, stats tracking, and cleanup functionality. Both issues were duplicates."}
{"id":"sql-mwle","title":"EDIT: docs/architecture.md - Update ASCII diagrams with correct box alignment","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:08.282155-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:55:09.927505-06:00","closed_at":"2026-01-22T19:55:09.927505-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-mzl6","title":"Fix WAL retention advanced features and checkpoint failures (14 tests)","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:34.987741-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:34.987741-06:00"}
{"id":"sql-n6th","title":"EDIT: shared-types index.ts RPCErrorCode enum values missing individual JSDoc descriptions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:23.591485-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:16:32.622463-06:00","closed_at":"2026-01-22T17:16:32.622463-06:00","close_reason":"Added JSDoc descriptions to RPCErrorCode enum values - documentation includes category organization and per-value descriptions"}
{"id":"sql-n7fv","title":"REFACTOR: Extract TieredStorageBackend migration logic into dedicated module","description":"fsx/tiered.ts contains a large TieredStorageBackend class (950 lines) that handles both storage operations AND migration logic. The migrateToR2 method (lines 449-591) and promoteToHot method (lines 596-658) contain significant logic that could be extracted into a separate TierMigrationManager class. This would improve testability and follow single responsibility principle.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:28.578416-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T03:32:25.666524-06:00","closed_at":"2026-01-23T03:32:25.666524-06:00","close_reason":"Closed"}
{"id":"sql-na6z","title":"EDIT: README.md - FlushTrigger type values are incomplete in documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:18.646415-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:34:53.959594-06:00","closed_at":"2026-01-22T19:34:53.959594-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-newy","title":"REFACTOR: Remove new Function() usage in evaluateWhenClause","description":"triggers/executor.ts line 937 uses 'new Function()' for SQL WHERE clause evaluation, which is flagged by eslint-disable. This is a security concern and should be replaced with a proper expression parser/evaluator. Current code: 'const result = new Function(\"return ${expr}\")()'. Replace with a safe AST-based expression evaluator.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:16.481928-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:58:20.168013-06:00","closed_at":"2026-01-22T18:58:20.168013-06:00","close_reason":"Replaced new Function() with safe recursive descent parser in evaluateWhenClause. The new implementation uses a tokenizer and SafeExpressionEvaluator class that prevents arbitrary code execution. Supports: NEW/OLD.column refs, LIKE/NOT LIKE, IS NULL/IS NOT NULL, AND/OR/NOT, comparison operators, IN expressions, parenthesized expressions. All 87 trigger tests pass."}
{"id":"sql-ngm9","title":"EDIT: shared-types index.ts responseToResult/resultToResponse missing @param/@returns JSDoc","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:57.77411-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:11:27.637984-06:00","closed_at":"2026-01-22T19:11:27.637984-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-nh9u","title":"REFACTOR: experimental.ts re-exports are redundant with index.ts","description":"experimental.ts (lines 48-120) re-exports types that are already exported from index.ts. The current structure has: 1) index.ts exports both stable and experimental types 2) experimental.ts re-exports a subset of the same experimental types. Consider: 1) Remove experimental.ts if all exports are in index.ts 2) OR make index.ts NOT export experimental types and only expose via experimental.ts 3) Document the intended import pattern clearly","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:17.973878-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:20:29.967191-06:00","closed_at":"2026-01-22T18:20:29.967191-06:00","close_reason":"By design - experimental.ts provides explicit experimental subpath import for consumers who opt into unstable APIs"}
{"id":"sql-nhtd","title":"REFACTOR: Add proper typing for registerCheckpointListener parameter","description":"In wal/retention.ts line 834 and 2231, the registerCheckpointListener method accepts 'checkpointMgr: any'. This should be typed with a proper CheckpointManager interface that defines the required methods for checkpoint registration.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:17.627898-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:47:18.277516-06:00","closed_at":"2026-01-22T18:47:18.277516-06:00","close_reason":"Added proper TypeScript typing for registerCheckpointListener parameter. Changed 'any' to 'CheckpointManagerForRetention' type in both the interface declaration (line 853) and implementation (line 2250) in /Users/nathanclevenger/projects/sql/packages/dosql/src/wal/retention.ts. All 31 retention tests pass."}
{"id":"sql-ni5l","title":"EDIT: README.md - Add example for HTTP-based CDC ingestion via POST /cdc","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:27.423836-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:26:29.938325-06:00","closed_at":"2026-01-22T19:26:29.938325-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-nj3","title":"[EDIT] Update Architecture Diagrams - Ensure all diagrams match current code","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:51.504484-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:49:15.070754-06:00","closed_at":"2026-01-22T08:49:15.070754-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-nj3","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:13.502764-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-njt3","title":"EDIT: Add JSDoc to constants.ts RATE_LIMIT object members","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:08.211964-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:34:54.045623-06:00","closed_at":"2026-01-22T19:34:54.045623-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-nlow","title":"RED: CLI migrate command should connect to actual database","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:51:06.298914-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:09:31.110205-06:00","closed_at":"2026-01-22T17:09:31.110205-06:00","close_reason":"Closed"}
{"id":"sql-npn5","title":"DOCS: Deployment Guide - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:22.749198-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:34:20.985233-06:00","closed_at":"2026-01-23T12:34:20.985233-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-npn5","depends_on_id":"sql-2uf1","type":"blocks","created_at":"2026-01-23T12:02:38.61451-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-nsey","title":"REFACTOR: Consolidate duplicate TextEncoder/TextDecoder instantiation","description":"Multiple files create new TextEncoder/TextDecoder instances: wal/writer.ts line 72-73 (DefaultWALEncoder class members), btree/btree.ts, fsx/tiered.ts. These could be shared as module-level constants or use a shared utility module to reduce allocations.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:29.669456-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:53:00.552215-06:00","closed_at":"2026-01-22T18:53:00.552215-06:00","close_reason":"Analysis complete: A shared singleton utility already exists at packages/dosql/src/utils/encoding.ts that exports textEncoder/textDecoder. However, adoption is minimal - only the file itself uses the singletons. Found 66 files with TextEncoder and 48 files with TextDecoder instantiations. In production code (excluding tests/docs): 51 TextEncoder and ~40 TextDecoder instantiations exist.\n\nRecommendation: DO NOT consolidate at this time. Reasons:\n1. The existing shared utility is package-local to dosql, not in shared-types\n2. Most usages are either: (a) test files (OK to repeat), (b) inline one-shot encoding new TextEncoder().encode(...) which is idiomatic, (c) local const inside functions where the encoder is used multiple times in that scope\n3. TextEncoder/TextDecoder are cheap to instantiate in modern runtimes - V8 optimizes them heavily\n4. Cross-package imports for a simple global would add dependency complexity\n5. Some files like r2-index/writer.ts create encoders inside methods that need short-lived scope\n\nIf consolidation is desired in the future: Move textEncoder/textDecoder to @dotdo/shared-types and have all packages import from there. But given the minimal performance benefit vs. added coupling, the current pattern is acceptable."}
{"id":"sql-ntgh","title":"EPIC: Consumer-Ready Documentation","description":"Transform internal docs into polished, consumer-facing documentation for sql.do and lake.do. Three-phase workflow: WRITE (first draft), EDIT (refinement), REWRITE (final polish). Each phase must be completed sequentially for quality assurance.","status":"closed","priority":1,"issue_type":"epic","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:00:38.104987-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:50:34.032554-06:00","closed_at":"2026-01-23T12:50:34.032554-06:00","close_reason":"All WRITE/EDIT/REWRITE documentation tasks completed - docs/sql.do and docs/lake.do fully populated"}
{"id":"sql-nxzo","title":"DOCS: Advanced Usage - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:29.205486-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:46:41.23101-06:00","closed_at":"2026-01-23T12:46:41.23101-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-nxzo","depends_on_id":"sql-6fpt","type":"blocks","created_at":"2026-01-23T12:02:44.1324-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-nzyr","title":"DOCS: D1 Migration - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:27.023202-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:41:48.018439-06:00","closed_at":"2026-01-23T12:41:48.018439-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-nzyr","depends_on_id":"sql-x39y","type":"blocks","created_at":"2026-01-23T12:02:40.507636-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-ok2a","title":"Fix middleware WebSocket upgrade handling (2 runtime failures)","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:44.943636-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:44.943636-06:00"}
{"id":"sql-opdl","title":"[GREEN] Fix failing tests in cdc-global-ordering.test.ts","description":"Fix 26 failing tests in packages/dosql/src/__tests__/cdc-global-ordering.test.ts\n\n## Failing Test Categories:\n- HLC timestamp generation for mutations (INSERT/UPDATE/DELETE)\n- HLC components (physical time, logical counter, node identifier)\n- HLC ordering invariants\n- Cross-shard causal ordering\n- Multi-shard HLC merging\n- Concurrent event ordering (same millisecond)\n- HLC receive semantics (remote timestamp handling)\n- Subscriber causal delivery\n- Out-of-order event buffering\n- Cross-shard subscription with global HLC ordering\n- HLC drift detection and recovery\n\n## Test Patterns:\n- it.fails('should generate HLC timestamp for INSERT mutation')\n- it.fails('should preserve causal order when event on shard B happens after event on shard A')\n- it.fails('should deliver events to subscriber in HLC order')\n- it.fails('should detect clock drift exceeding threshold')","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:22:38.902513-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:17:42.749947-06:00","closed_at":"2026-01-23T10:17:42.749947-06:00","close_reason":"Closed"}
{"id":"sql-osxc","title":"RED: CLI should validate paths to prevent directory traversal","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:51:09.052374-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:09:31.132272-06:00","closed_at":"2026-01-22T17:09:31.132272-06:00","close_reason":"Closed"}
{"id":"sql-oupk","title":"EDIT: README.md example code - Use proper TypeScript types in all code blocks","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:24.712862-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:03:38.450676-06:00","closed_at":"2026-01-22T19:03:38.450676-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-ox2i","title":"DOCS: Vector Search - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:27.864408-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:19:10.500389-06:00","closed_at":"2026-01-23T12:19:10.500389-06:00","close_reason":"Closed"}
{"id":"sql-p0x","title":"TDD: Add LRU eviction to dedup set in buffer.ts","description":"Architecture Review: dedupSet in dolake/src/buffer.ts lines 363-397 has MAX_DEDUP_ENTRIES but no LRU eviction. Add proper eviction to prevent memory growth.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:22.796237-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:28:32.347892-06:00","closed_at":"2026-01-22T14:28:32.347892-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-p36s","title":"REFACTOR: Consolidate duplicated aggregation logic in QueryEngine","description":"The executeAggregation and executePartialAggregation methods share significant duplicated logic for processing aggregation operations. Extract common aggregation processing into a shared method.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:59.809077-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:21:12.604966-06:00","closed_at":"2026-01-22T17:21:12.604966-06:00","close_reason":"Created shared aggregate utilities in utils/aggregate.ts with createAggregateState, updateAggregateState, getAggregateResult, mergeAggregateStates, and combine functions (combineCount, combineSum, combineAvg, combineMin, combineMax). These can be used incrementally by engine/operators/aggregate.ts and sharding/executor.ts."}
{"id":"sql-p46s","title":"DOCS: SvelteKit Integration - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:21.80686-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:34:30.371919-06:00","closed_at":"2026-01-23T12:34:30.371919-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-p46s","depends_on_id":"sql-icdy","type":"blocks","created_at":"2026-01-23T12:02:37.495159-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-p5j5","title":"REFACTOR: Use type-only imports in config.ts internal imports","description":"In index.ts lines 31-35, internal imports from config.ts could use 'import type' for the type WrapperCacheConfig since only the internal functions are used at runtime. This can improve tree-shaking and make the import intent clearer: 'import { _getWrapperCacheConfigInternal, _isDevModeInternal, _isStrictModeInternal } from \"./config.js\"'","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:32.296767-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:34.288748-06:00","closed_at":"2026-01-22T17:20:34.288748-06:00","close_reason":"Already using type-only import for WrapperCacheConfig; internal imports are runtime functions only"}
{"id":"sql-p6wy","title":"EDIT: shared-types README getWrapperMapStats/clearWrapperMaps utility functions not documented","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:49.215744-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:29:54.982247-06:00","closed_at":"2026-01-22T18:29:54.982247-06:00","close_reason":"Fixed: Added Runtime Utilities section to README documenting getWrapperMapStats(), clearWrapperMaps(), setDevMode(), isDevMode(), setStrictMode(), and isStrictMode() with code examples."}
{"id":"sql-p97u","title":"EDIT: shared-types index.ts TableSchema/ColumnDefinition/IndexDefinition missing JSDoc @example","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:50.54949-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:14:35.605735-06:00","closed_at":"2026-01-22T19:14:35.605735-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-pg6","title":"WRITE: Deployment and operations guide","description":"Product Review: Missing deployment guide. Create docs/DEPLOYMENT.md with Wrangler examples, monitoring setup, scaling guidance, troubleshooting.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T13:57:50.10227-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T14:28:32.458229-06:00","closed_at":"2026-01-22T14:28:32.458229-06:00","close_reason":"GREEN phase complete"}
{"id":"sql-pkny","title":"DOCS: Security Model - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:23.86545-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:38:02.965148-06:00","closed_at":"2026-01-23T12:38:02.965148-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-pkny","depends_on_id":"sql-4a7z","type":"blocks","created_at":"2026-01-23T12:02:39.744352-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-q0n","title":"EDIT: README.md - Add missing /fsx and /proc module exports to Module Exports section","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:13.300585-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:42:49.061436-06:00","closed_at":"2026-01-23T02:42:49.061436-06:00","close_reason":"Closed"}
{"id":"sql-qehk","title":"[GREEN] Fix failing tests in sqllogictest-not-in.test.ts","description":"Fix 9 failing tests in packages/dosql/src/__tests__/sqllogictest-not-in.test.ts\n\n## Failing Test Categories:\n- NOT IN with single integer value (literal comparison)\n- NOT IN with special characters\n- NOT IN with subquery\n- NOT IN with subquery containing NULL\n- NOT IN combined with OR\n- Nested NOT and IN conditions\n- NOT IN combined with BETWEEN\n- NOT IN in SELECT expression\n\n## Test Patterns:\n- it.fails('should handle NOT IN with single integer value - literal comparison')\n- it.fails('should handle NOT IN with special characters')\n- it.fails('should handle NOT IN with subquery')\n- it.fails('should handle NOT IN combined with OR')\n- it.fails('should handle NOT IN in SELECT expression')","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:23:08.662354-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:31:33.819401-06:00","closed_at":"2026-01-23T10:31:33.819401-06:00","close_reason":"Batch 4 tests fixed - commit 6ba0206"}
{"id":"sql-qskm","title":"REFACTOR: Remove @ts-ignore comments and fix underlying type issues","description":"Found 3 @ts-ignore comments in benchmarks/adapters: sqlite-og.ts line 24 (navigator.userAgent in Workers), sqlite-og.test.ts lines 20/22 (WASM module imports). These should either be properly typed with ambient declarations or use proper worker-types/wasm-types definitions.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:56.306999-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:11.447585-06:00","closed_at":"2026-01-22T17:20:11.447585-06:00","close_reason":"Closed"}
{"id":"sql-qua","title":"[EDIT] Add Testing Guide - Document TDD patterns in CONTRIBUTING.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:49.787297-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T08:47:29.832096-06:00","closed_at":"2026-01-22T08:47:29.832096-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-qua","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:12.517413-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-qvnf","title":"EDIT: shared-types index.ts IsolationLevel/ServerIsolationLevel types missing JSDoc explaining each level","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:40.481597-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:18:24.632587-06:00","closed_at":"2026-01-22T17:18:24.632587-06:00","close_reason":"Added JSDoc with descriptions to IsolationLevel and ServerIsolationLevel"}
{"id":"sql-qw0","title":"[GREEN] BenchmarkTestDO.execMany - Implement batch execution method","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:52.836976-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:30.044263-06:00","closed_at":"2026-01-22T11:03:30.044263-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-qw0","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:17.500966-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-r2k0","title":"DOCS: Architecture Overview - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:01:34.483367-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:47:51.695283-06:00","closed_at":"2026-01-23T12:47:51.695283-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-r2k0","depends_on_id":"sql-ntgh","type":"blocks","created_at":"2026-01-23T12:01:34.484442-06:00","created_by":"Nathan Clevenger"},{"issue_id":"sql-r2k0","depends_on_id":"sql-mgyl","type":"blocks","created_at":"2026-01-23T12:01:47.551528-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-r3n2","title":"EDIT: shared-types README missing documentation for RetryConfig type","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:07.237033-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:07:37.093608-06:00","closed_at":"2026-01-22T19:07:37.093608-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-r3yu","title":"RED: CLI should use TypeScript AST instead of regex for schema parsing","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:51:07.633017-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:09:31.156237-06:00","closed_at":"2026-01-22T17:09:31.156237-06:00","close_reason":"Closed"}
{"id":"sql-r7hf","title":"EDIT: api-reference.md - Add columnar storage section documenting encoding types and usage","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:41.797387-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:30:17.432742-06:00","closed_at":"2026-01-22T19:30:17.432742-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-r9ox","title":"README: lake.do Landing - Storybrand WRITE","description":"Create compelling README using Storybrand framework. Developer is the hero discovering DoLake for their lakehouse journey.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:21.708452-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:05:01.912592-06:00","closed_at":"2026-01-23T12:05:01.912592-06:00","close_reason":"Closed"}
{"id":"sql-rdd0","title":"EDIT: shared-types README Version Compatibility table only shows 0.1.x - needs update process","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:56.244216-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:30:36.260618-06:00","closed_at":"2026-01-22T18:30:36.260618-06:00","close_reason":"Correct for now: All packages are currently at 0.1.x, so the version compatibility table accurately reflects current state. Future versions will be added as they are released. This is a process/maintenance reminder rather than a bug fix."}
{"id":"sql-rl8","title":"EDIT: dosql-cli - Add inline comments explaining schema parsing regex in generate.ts","description":"The parseSchemaFile function uses complex regex patterns (exportRegex and columnRegex) to parse TypeScript schema files. These regex patterns are difficult to understand without explanation. Add inline comments explaining what each part of the regex matches and any limitations/edge cases.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:17.763369-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:22:34.610167-06:00","closed_at":"2026-01-22T17:22:34.610167-06:00","close_reason":"Added detailed inline comments explaining schema parsing regex patterns in generate.ts, including pattern breakdown and documented limitations"}
{"id":"sql-rlz7","title":"EDIT: README.md - Document whitelisted networks (private IP ranges) configuration","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:42.40652-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:03:38.353749-06:00","closed_at":"2026-01-22T19:03:38.353749-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-rnx","title":"[GREEN] Structured Logging - Implement structured logger with trace IDs","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:49.762802-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:30.051488-06:00","closed_at":"2026-01-22T11:03:30.051488-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-rnx","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:15.160736-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-rptp","title":"REFACTOR: Add type guard for Window plan input to avoid 'any' type","description":"engine/operators/window.ts line 69 has 'input: any' with comment '// QueryPlan (avoid circular import)'. Use import type to properly type this, or create a shared QueryPlanBase interface in a separate types file that both modules can import without circular dependencies.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:43.991534-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:13.033638-06:00","closed_at":"2026-01-22T17:20:13.033638-06:00","close_reason":"Closed"}
{"id":"sql-rret","title":"EDIT: dosql-cli - Document schema file format requirements for generate command","description":"generateTypes uses regex to parse schema files expecting specific format: 'export const X = { tableName: string, columns: {...} } as const'. This format requirement is not documented. Users need to know exact syntax required for successful parsing.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:42.445588-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:25:02.200118-06:00","closed_at":"2026-01-22T17:25:02.200118-06:00","close_reason":"README.md 'Schema File Format' section documents the required format with tableName, columns, column definitions, and includes example schema file with generated output"}
{"id":"sql-rv7h","title":"REFACTOR: Add readonly modifiers to constant exports for immutability","description":"Constant exports like DEFAULT_IDEMPOTENCY_CONFIG (line 633), DEFAULT_CLIENT_CAPABILITIES (line 982), DEFAULT_RETRY_CONFIG (line 1674), SQL_TO_JS_TYPE_MAP (line 567), JS_TO_SQL_TYPE_MAP (line 581), CDCOperationCode (line 769) should be declared with 'as const' for the objects and consider using Object.freeze() or readonly types to prevent accidental mutation at runtime.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:13.47945-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:24:26.743727-06:00","closed_at":"2026-01-22T17:24:26.743727-06:00","close_reason":"Closed"}
{"id":"sql-rvph","title":"Replace console.error with structured logging","description":"\n## Problem\n757 catch blocks found, many use console.error instead of structured logging:\n```typescript\n// transaction/manager.ts:186-197\n} catch (error) {\n  console.error('Failed to apply rollback operations:', error); // Only logs!\n}\n```\n\n## TDD Approach\n\n### RED Phase\n- Add test that error events are captured in structured format\n- Test: Error context includes transaction ID, operation, timestamp\n- Test: Errors can be filtered by severity\n\n### GREEN Phase\n- Create structured logger with error enrichment\n- Replace console.error calls with logger.error()\n\n### REFACTOR Phase\n- Add error aggregation for patterns\n- Consider integration with observability (OpenTelemetry)\n\n## Files\n- packages/dosql/src/transaction/manager.ts\n- packages/dosql/src/logging/index.ts (new)\n","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:07:52.234196-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:21.013195-06:00","closed_at":"2026-01-30T10:42:21.013195-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-rxgr","title":"DOCS: API Reference - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:01:29.736741-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:11:21.439379-06:00","closed_at":"2026-01-23T12:11:21.439379-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-rxgr","depends_on_id":"sql-ntgh","type":"blocks","created_at":"2026-01-23T12:01:29.737928-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-s0jp","title":"EDIT: Error messages - Add context to BufferOverflowError","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:48.7046-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:11:27.683638-06:00","closed_at":"2026-01-22T19:11:27.683638-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-s1e","title":"EDIT: lake.do README.md missing CHANGELOG.md file (referenced in package docs structure)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:44.464205-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:42.768098-06:00","closed_at":"2026-01-22T17:19:42.768098-06:00","close_reason":"Created CHANGELOG.md with initial 0.1.0 release notes"}
{"id":"sql-s3bn","title":"REFACTOR: Extract RetentionPolicy interface into separate types module","description":"The RetentionPolicy interface in wal/retention.ts (lines 83-196) has grown to over 40 properties across 8 categories. Consider splitting into composable interfaces: TimeBasedRetentionConfig, SizeBasedRetentionConfig, CheckpointRetentionConfig, CompactionConfig, BackgroundCleanupConfig, DynamicPolicyConfig, MetricsConfig, and CDCIntegrationConfig. This would make the API more discoverable and allow users to compose only what they need.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:42.956964-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:14:54.552035-06:00","closed_at":"2026-01-22T17:14:54.552035-06:00","close_reason":"Closed"}
{"id":"sql-s7rp","title":"RED: E2E tests should run in CI with automated deploy/cleanup","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:51:17.490888-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:09:31.245236-06:00","closed_at":"2026-01-22T17:09:31.245236-06:00","close_reason":"Closed"}
{"id":"sql-s9rn","title":"REFACTOR: Standardize error handling patterns across codebase","description":"Inconsistent error handling found across 30+ catch blocks in the codebase. Some use 'catch (error)' with proper typing while others use raw Error casts. Key affected files: transaction/manager.ts (9 catch blocks), wal/retention.ts (3 catch blocks), migrations/runner.ts (4 catch blocks), proc/executor.ts (3 catch blocks). Standardize on DoSQLError hierarchy and consistent re-throw patterns.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:03.342359-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T03:32:25.720407-06:00","closed_at":"2026-01-23T03:32:25.720407-06:00","close_reason":"Closed"}
{"id":"sql-sat","title":"EDIT: lake.do README.md missing branded type factory functions documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:10.454695-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:36:43.512671-06:00","closed_at":"2026-01-23T02:36:43.512671-06:00","close_reason":"Closed"}
{"id":"sql-sced","title":"Comprehensive benchmarks vs SQLite, libsql, Turso, D1, DO SQLite","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:55:39.193939-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T13:12:00.66822-06:00","closed_at":"2026-01-23T13:12:00.66822-06:00","close_reason":"README rewritten for DO focus, comprehensive benchmark suite created"}
{"id":"sql-sh52","title":"REFACTOR: RPCError.details type is overly permissive (Record\u003cstring,unknown\u003e | unknown)","description":"In the RPCError interface at line 959, the details field is typed as 'Record\u003cstring, unknown\u003e | unknown'. The '| unknown' portion makes this effectively 'unknown' since unknown absorbs all other types. This is likely a mistake - should probably be 'Record\u003cstring, unknown\u003e | undefined' or just 'Record\u003cstring, unknown\u003e'. Audit usage and fix the type to be more specific.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:33.765921-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:52:55.595047-06:00","closed_at":"2026-01-22T18:52:55.595047-06:00","close_reason":"The RPCError.details type is intentionally flexible. The generic type pattern (TDetails extends Record\u003cstring,unknown\u003e = Record\u003cstring,unknown\u003e) allows type narrowing when needed while supporting diverse error detail shapes (position, tables, columns, alias, etc). This is the correct design for a shared error type that handles syntax errors, constraint violations, table/column not found errors, and more. No changes needed."}
{"id":"sql-sink","title":"REFACTOR: Remove or unify duplicate CDCBatch and CDCEvent interfaces","description":"CDCBatch interface is defined in types.ts (lines 372-381) and duplicated in e2e/client.ts (lines 52-62). CDCEvent is also duplicated in e2e/client.ts (lines 54-62). These should either: 1) Import from types.ts in e2e/client.ts 2) Export a shared test-utilities module 3) At minimum, add a TODO comment explaining the intentional duplication if it's needed for test isolation","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:53.283327-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:38:45.152664-06:00","closed_at":"2026-01-22T18:38:45.152664-06:00","close_reason":"Analyzed CDCBatch and CDCEvent interfaces. Found test-specific duplicates in 5 files that intentionally differ from canonical types (@dotdo/sql.do, dosql/src/cdc/types.ts, lake.do/src/types.ts). Added JSDoc comments explaining why each test file has local definitions: observability.test.ts uses simplified mocks for tracing attributes, cdc-backpressure.test.ts needs minimal structure for queue testing, e2e/client.ts files use external API contracts with different field names (oldRow/newRow vs before/after, txId vs transactionId). No unification needed - these are legitimate test-specific types."}
{"id":"sql-sml","title":"EDIT: lake.do README.md missing event emitter API documentation (on/off/once methods)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:54.987124-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:59.842245-06:00","closed_at":"2026-01-22T17:19:59.842245-06:00","close_reason":"Added event emitter API documentation with on/off/once methods and event types"}
{"id":"sql-snwd","title":"EDIT: Add JSDoc to alarm() method explaining hibernation wake behavior","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:35.070316-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:32:41.291056-06:00","closed_at":"2026-01-22T18:32:41.291056-06:00","close_reason":"Fixed: Added JSDoc comment to alarm() method in dolake.ts explaining hibernation wake behavior, periodic buffer flushes, and fallback recovery. Includes link to Cloudflare docs."}
{"id":"sql-sp7","title":"FEAT: Add per-shard circuit breaker to DistributedExecutor","description":"Architecture Review: DistributedExecutor can cascade failures to all shards. Add circuit breaker pattern from dolake.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:03.830933-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:12:14.920911-06:00","closed_at":"2026-01-22T12:12:14.920911-06:00","close_reason":"GREEN phase complete - tests passing"}
{"id":"sql-sps4","title":"EPIC: Code Quality \u0026 Safety Fixes","description":"Address code quality issues identified in code review: memory safety, error handling consistency, code duplication, type safety improvements.","status":"closed","priority":1,"issue_type":"epic","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:06:39.509449-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:31.874842-06:00","closed_at":"2026-01-30T10:42:31.874842-06:00","close_reason":"All child tasks completed"}
{"id":"sql-st34","title":"EDIT: shared-types README missing documentation for Result pattern types (Result, Success, Failure)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:06.212309-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:07:37.117146-06:00","closed_at":"2026-01-22T19:07:37.117146-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-sth6","title":"EDIT: README.md - Document subnet rate limiting (/24 IPv4, /64 IPv6)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:44.664595-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:03:38.330828-06:00","closed_at":"2026-01-22T19:03:38.330828-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-svx0","title":"EDIT: README.md - Document environment bindings (LAKEHOUSE_BUCKET, LAKEHOUSE_KV)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:59.534456-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:19:38.290699-06:00","closed_at":"2026-01-22T19:19:38.290699-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-t42l","title":"REFACTOR: Extract common table accessor pattern into reusable utility","description":"Both proc/executor.ts buildModuleWrapper() and triggers/executor.ts buildSandboxModule() implement nearly identical table accessor patterns with get/where/all/count/insert/update/delete methods. Extract this into a shared 'createTableAccessorCode(tableNames: string[]): string' utility function.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:57.604215-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:17:07.882601-06:00","closed_at":"2026-01-22T17:17:07.882601-06:00","close_reason":"Created createSimpleTableAccessor and createSimpleTableAccessors utilities in utils/table-accessor.ts; Updated triggers/executor.ts to use shared utility instead of inline implementation"}
{"id":"sql-t7q","title":"[GREEN] CDC Global Ordering - Implement HLC for causal ordering","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:42.851747-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:30.06118-06:00","closed_at":"2026-01-22T11:03:30.06118-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-t7q","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:06.419745-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-t7r8","title":"EDIT: USE_CASES.md - Add performance considerations and benchmarks for each use case","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:42.037485-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:36:43.44431-06:00","closed_at":"2026-01-23T02:36:43.44431-06:00","close_reason":"Closed"}
{"id":"sql-t87u","title":"EDIT: lake.do README.md missing version compatibility for Cloudflare Workers","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:57.488452-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:21.1535-06:00","closed_at":"2026-01-22T17:20:21.1535-06:00","close_reason":"Added Cloudflare Workers 2024.1+ to Version Compatibility table in README"}
{"id":"sql-t8dp","title":"EDIT: JSDoc IdempotencyCacheStats interface missing @public marker","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:26.20988-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:31:47.259722-06:00","closed_at":"2026-01-23T02:31:47.259722-06:00","close_reason":"Already has @public marker at line 149"}
{"id":"sql-t9t","title":"[REFACTOR] Error Handling Consistency - Standardize throw vs return patterns","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:42.997545-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:31.53564-06:00","closed_at":"2026-01-22T11:03:31.53564-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-t9t","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:40:58.24055-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-taev","title":"REFACTOR: Extract duplicate sandbox module wrapper code","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:44.501764-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:50:46.989787-06:00","closed_at":"2026-01-22T18:50:46.989787-06:00","close_reason":"Extracted duplicate sandbox module wrapper code into shared utility. Created /packages/dosql/src/utils/sandbox.ts containing: buildSandboxModule(), buildProcedureModule(), buildTableAccessorCode(), buildDbCallCode(), buildSqlCode(), buildTransactionCode(), createOutboundRpcHandler(), and createExtendedOutboundRpcHandler(). Updated triggers/js-executor.ts, triggers/executor.ts, and proc/executor.ts to import from the shared utility instead of duplicating ~150 lines of nearly identical code. Backward compatibility maintained via re-exports."}
{"id":"sql-tfdp","title":"EDIT: src/sharding/index.ts - Add JSDoc comments for exported types and functions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:32.193801-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:51:29.816736-06:00","closed_at":"2026-01-22T19:51:29.816736-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-tghi","title":"REFACTOR: Extract common retry loop pattern from writeP0/P1/P2/P3 methods","description":"The writeP0, writeP1, writeP2, and writeP3 methods all contain similar retry loop patterns with backoff logic. Extract into a generic retryWithBackoff utility function that accepts the operation as a callback.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:02.161439-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:07.694079-06:00","closed_at":"2026-01-22T17:19:07.694079-06:00","close_reason":"Created withRetry, withRetryResult, withContextualRetry utilities in utils/retry.ts; Updated distributed-tx/coordinator.ts and sharding/executor.ts to use shared retry utilities instead of inline implementations"}
{"id":"sql-thw4","title":"REFACTOR: Consolidate isValidated* functions to reduce duplication","description":"Functions isValidatedLSN, isValidatedTransactionId, isValidatedShardId, isValidatedStatementHash (lines 175-222) share identical logic patterns: get wrapper from map, check type/validation set, touch LRU, return boolean. Create a generic helper function that takes the wrapper map, validation set, type key, and value to check. This will reduce ~50 lines of duplicated code and ensure consistent behavior.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:58.129543-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:41:09.591224-06:00","closed_at":"2026-01-22T18:41:09.591224-06:00","close_reason":"Consolidated isValidatedTransactionId, isValidatedShardId, and isValidatedStatementHash into a single helper function 'isValidatedString'. These three functions shared identical logic: check stringWrappers Map, verify type, check WeakSet, and touch LRU. The isValidatedLSN function remains separate as it uses different structures (lsnWrappers, touchLsnLru) and has no type field. Code reduction: ~27 lines reduced to ~13 lines with shared logic."}
{"id":"sql-thx0","title":"EDIT: README.md - Document /health and /metrics HTTP endpoints","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:56.107431-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:46:36.073429-06:00","closed_at":"2026-01-22T19:46:36.073429-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-to8","title":"[REWRITE] shared-types README - Create comprehensive README for @dotdo/shared-types","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:31.923038-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:04:00.012052-06:00","closed_at":"2026-01-22T11:04:00.012052-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-to8","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:40:35.631563-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-tsva","title":"REWRITE: Root README - Focus on Durable Object usage","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:55:37.84538-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T13:12:00.665892-06:00","closed_at":"2026-01-23T13:12:00.665892-06:00","close_reason":"README rewritten for DO focus, comprehensive benchmark suite created"}
{"id":"sql-ttl","title":"REFACTOR: Extract shared error coercion utility","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:39.575885-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:11:46.47623-06:00","closed_at":"2026-01-22T17:11:46.47623-06:00","close_reason":"Closed"}
{"id":"sql-tx94","title":"EDIT: src/rpc/types.ts - Add @example JSDoc for StreamRequest showing chunked query usage","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:21.48665-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:46:35.976058-06:00","closed_at":"2026-01-22T19:46:35.976058-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-ty2","title":"EDIT: lake.do README.md version mismatch - shows 0.1.0-alpha but package.json has 0.1.0","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:43.260888-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:40.298197-06:00","closed_at":"2026-01-22T17:19:40.298197-06:00","close_reason":"Fixed version mismatch: README now shows 0.1.0 matching package.json"}
{"id":"sql-ty2e","title":"REFACTOR: Split DurabilityWriter class into smaller single-responsibility classes","description":"The DurabilityWriter class is 655+ lines with too many responsibilities including P0-P3 writes, metrics tracking, retry logic, and latency percentile calculations. Consider splitting into: DurabilityTierWriter, DurabilityMetrics, RetryHandler classes.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:00.95671-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T03:32:25.745709-06:00","closed_at":"2026-01-23T03:32:25.745709-06:00","close_reason":"Closed"}
{"id":"sql-tye","title":"REFACTOR: Split CDCStreamController into separate concerns (queue, backpressure, metrics)","description":"CDCStreamController in client.ts (lines 1017-1301, ~285 lines) has multiple responsibilities: queue management, backpressure handling, watermark events, metrics tracking. Consider extracting: 1) BoundedQueue class for queue operations 2) BackpressureController for strategies 3) QueueMetrics for metrics collection","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:51.272298-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:19:20.160257-06:00","closed_at":"2026-01-22T17:19:20.160257-06:00","close_reason":"Split CDCStreamController into cdc-stream/queue.ts (BoundedQueue), cdc-stream/metrics.ts (MetricsTracker), and cdc-stream/controller.ts"}
{"id":"sql-u1q","title":"EDIT: lake.do README.md missing retry configuration documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:02.513009-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:57:09.101819-06:00","closed_at":"2026-01-22T18:57:09.101819-06:00","close_reason":"Added retry configuration documentation to lake.do README including: RetryConfig interface with maxRetries, baseDelayMs, and maxDelayMs fields; example usage with custom retry settings; default values documentation; and how to disable retries. Also added RetryConfig to the Types import section."}
{"id":"sql-u67k","title":"REFACTOR: Split retention.ts (2291 lines) into smaller modules","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:45.159649-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T03:32:25.793854-06:00","closed_at":"2026-01-23T03:32:25.793854-06:00","close_reason":"Closed"}
{"id":"sql-ual","title":"[REFACTOR] Apply Enhanced Strict Settings - Apply sql.do tsconfig strict settings to all packages","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:40.845501-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:31.612487-06:00","closed_at":"2026-01-22T11:03:31.612487-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-ual","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:40:55.508574-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-uk0p","title":"EDIT: src/virtual/types.ts - Improve JSDoc descriptions with practical usage examples","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:52.840418-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:55:10.017144-06:00","closed_at":"2026-01-22T19:55:10.017144-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-unqj","title":"DOCS: Troubleshooting Guide - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:29.797709-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:28:16.479122-06:00","closed_at":"2026-01-23T12:28:16.479122-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-unqj","depends_on_id":"sql-08ls","type":"blocks","created_at":"2026-01-23T12:02:42.938534-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-unwi","title":"EDIT: README.md - Document Prometheus metrics format in /metrics response","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:04.15035-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:34:54.118286-06:00","closed_at":"2026-01-22T19:34:54.118286-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-uox","title":"FIX: Add strict TypeScript options to dolake/tsconfig.json","description":"TypeScript Review: dolake missing noUncheckedIndexedAccess, exactOptionalPropertyTypes, noImplicitOverride, useUnknownInCatchVariables.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:00.832355-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:12:14.80514-06:00","closed_at":"2026-01-22T12:12:14.80514-06:00","close_reason":"GREEN phase complete - tests passing"}
{"id":"sql-ur3h","title":"EDIT: src/errors/index.ts - Add @example JSDoc for error factory functions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:07.057738-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:51:29.67452-06:00","closed_at":"2026-01-22T19:51:29.67452-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-usd9","title":"EDIT: src/cdc/index.ts - Add module-level JSDoc with usage examples","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:33.372527-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:51:29.794398-06:00","closed_at":"2026-01-22T19:51:29.794398-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-uu8p","title":"SQLLogicTest remaining - CASE in WHERE/ORDER BY, text comparison, subquery gaps (6 tests)","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:41.783857-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:41.783857-06:00"}
{"id":"sql-uyv","title":"[REWRITE] Migration Guides Structure - Create unified migration framework","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:56.758695-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:33.414469-06:00","closed_at":"2026-01-22T11:03:33.414469-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-uyv","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:01.112316-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-v0up","title":"EDIT: README.md - Add migration guide from older DoLake versions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:22.759548-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:11:27.514954-06:00","closed_at":"2026-01-22T19:11:27.514954-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-v2er","title":"[GREEN] Fix failing tests in concurrent-planning.test.ts","description":"Fix 17 failing tests in packages/dosql/src/planner/__tests__/concurrent-planning.test.ts\n\n## Failing Test Categories:\n- Independent ID sequences per query\n- Plan ID isolation across concurrent queries\n- Context identifier in plan node IDs\n- Deterministic IDs without explicit reset\n- ID overflow handling (MAX_SAFE_INTEGER)\n- Distributed DO instances (globally unique IDs)\n- DO instance identifier in plan IDs\n- Merging plans from different DO instances\n- Isolated planning contexts (factory function)\n- Context reset without affecting other contexts\n\n## Test Patterns:\n- it.fails('each query should have independent ID sequences starting from 1')\n- it.fails('should be deterministic without requiring explicit reset')\n- it.fails('should handle approaching MAX_SAFE_INTEGER')\n- it.fails('should produce globally unique IDs across DO instances')\n- it.fails('should support creating an isolated planning context')","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:22:52.004717-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:17:42.754212-06:00","closed_at":"2026-01-23T10:17:42.754212-06:00","close_reason":"Closed"}
{"id":"sql-v4jk","title":"EDIT: src/transaction/types.ts - Document TransactionErrorCode enum values with recovery hints","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:43.206712-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:16:41.149322-06:00","closed_at":"2026-01-22T19:16:41.149322-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-v91f","title":"Fix Base64 expansion calculation in WAL writer","description":"\n## Problem\nWAL writer uses incorrect Base64 overhead calculation:\n```typescript\n// wal/writer.ts:258-265\nif (entry.key) size += entry.key.length * 1.34; // Wrong!\n// Base64 expansion is 4/3 (1.333...), not 1.34\n```\nCould cause buffer overflow if estimation is too optimistic.\n\n## TDD Approach\n\n### RED Phase\n- Add test in src/wal/__tests__/writer-encoding.test.ts\n- Test: Size estimation for various key lengths\n- Test: Buffer overflow prevention with large keys\n\n### GREEN Phase\n- Fix calculation: const BASE64_EXPANSION = 4 / 3;\n- Add safety margin or use exact calculation\n\n### REFACTOR Phase\n- Extract encoding utilities to shared module\n- Add size validation assertions\n\n## Files\n- packages/dosql/src/wal/writer.ts\n","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:07:29.065265-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:21.005818-06:00","closed_at":"2026-01-30T10:42:21.005818-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-vbgb","title":"Fix CLI migration and permission error handling (2 tests)","status":"open","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:53.139531-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:53.139531-06:00"}
{"id":"sql-vdpv","title":"DOCS: Deployment Guide - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:20.623583-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:05:40.931383-06:00","closed_at":"2026-01-23T12:05:40.931383-06:00","close_reason":"Closed"}
{"id":"sql-vgut","title":"EDIT: README.md - Add troubleshooting section for common error scenarios","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:01.694501-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:07:37.139588-06:00","closed_at":"2026-01-22T19:07:37.139588-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-vjt4","title":"EDIT: README missing CHANGELOG.md file for the package","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:31.516111-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:51:29.650713-06:00","closed_at":"2026-01-22T19:51:29.650713-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-vnw","title":"REFACTOR: Reduce memory allocation in hashString - avoid intermediate arrays","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:20.473314-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:21:09.57278-06:00","closed_at":"2026-01-22T18:21:09.57278-06:00","close_reason":"Closed"}
{"id":"sql-vv1w","title":"Extract duplicated rollback logic (DRY)","description":"\n## Problem\nRollback implementation appears in 3 places with minor variations:\n- transaction/manager.ts:176-210 (performRollback)\n- transaction/manager.ts:411-466 (rollback)\n- transaction/manager.ts:555-611 (rollbackTo)\n\n## TDD Approach\n\n### RED Phase\n- Add integration test verifying all rollback paths behave identically\n- Test: Basic rollback\n- Test: Rollback to savepoint\n- Test: Rollback with pending locks\n\n### GREEN Phase\n- Extract to single method: executeRollback(context, toIndex?, skipWAL?)\n- Update all call sites\n\n### REFACTOR Phase\n- Add rollback hooks for extensibility\n- Improve error context in rollback failures\n\n## Files\n- packages/dosql/src/transaction/manager.ts\n","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:07:31.018967-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:21.011225-06:00","closed_at":"2026-01-30T10:42:21.011225-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-vxjo","title":"REFACTOR: Split dosql package (385 files) into sub-packages","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:51:14.833735-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T03:32:25.61771-06:00","closed_at":"2026-01-23T03:32:25.61771-06:00","close_reason":"Closed"}
{"id":"sql-w1ox","title":"EDIT: src/columnar/index.ts - Add @example JSDoc showing OLAP query with projection pushdown","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:40.31205-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:34:53.870796-06:00","closed_at":"2026-01-22T19:34:53.870796-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-w39g","title":"REFACTOR: AutoScalingManager and HorizontalScalingManager have overlapping functionality","description":"Both classes in scalability.ts manage instance counting and scaling. AutoScalingManager extends the concept but doesn't extend the class. Consider using inheritance or composition to reduce code duplication between the two managers.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:44.859969-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:17:56.934072-06:00","closed_at":"2026-01-22T17:17:56.934072-06:00","close_reason":"Closed"}
{"id":"sql-w3t","title":"[GREEN] Production Benchmarks - Create benchmark suite on real Workers","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:48.589626-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:30.053391-06:00","closed_at":"2026-01-22T11:03:30.053391-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-w3t","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:13.914144-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-w486","title":"Implement query plan cache PRAGMA support (8 tests)","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:38.124417-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:38.124417-06:00"}
{"id":"sql-w6yw","title":"REFACTOR: Extract evaluateWhenClause function to shared SQL utilities","description":"The evaluateWhenClause function in triggers/executor.ts (lines 869-943) implements SQL expression evaluation with LIKE/NOT LIKE pattern handling, IS NULL checks, AND/OR operators. This logic could be reused across SQL parsing modules. Consider extracting to a shared 'sql-evaluator' or 'expression-evaluator' module with proper unit tests.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:16.227383-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:53:24.492689-06:00","closed_at":"2026-01-22T18:53:24.492689-06:00","close_reason":"Extracted evaluateWhenClause to shared utilities: the function was duplicated in triggers/executor.ts (lines 773-847) and utils/sql-eval.ts (lines 47-121). Refactored executor.ts to import from the shared utils/sql-eval.ts module. Also added exports for evaluateWhenClause, sqlEquals, sqlLike, and sqlTruthy in utils/index.ts for broader reuse."}
{"id":"sql-w7d","title":"[GREEN] CLI Tool - Implement dosql CLI (init, migrate, shell)","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T08:40:51.350913-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T11:03:30.049334-06:00","closed_at":"2026-01-22T11:03:30.049334-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-w7d","depends_on_id":"sql-h1c","type":"blocks","created_at":"2026-01-22T08:41:16.212725-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-wfqj","title":"EDIT: SECURITY.md - Add concrete code examples for all emergency response procedures","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:50.206096-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T20:05:47.933259-06:00","closed_at":"2026-01-22T20:05:47.933259-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-wg0l","title":"EDIT: shared-types index.ts serverToClientCDCEvent/clientToServerCDCEvent missing @param/@returns JSDoc","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:58.543686-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:11:27.615411-06:00","closed_at":"2026-01-22T19:11:27.615411-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-wt4q","title":"EDIT: Inline comment missing rationale for default idempotency key format components","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:49.071457-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:51:29.724966-06:00","closed_at":"2026-01-22T19:51:29.724966-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-wu6t","title":"REFACTOR: ColumnDefinition.type allows 'string' escape hatch - add strict mode alternative","description":"ColumnDefinition interface (line 999) has 'type: ColumnType | string' which allows any string, bypassing the ColumnType union. Consider adding a strict variant ColumnDefinitionStrict with 'type: ColumnType' for type-safe schemas, or documenting when the string escape hatch should be used (e.g., for database-specific types).","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:38.568633-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:20:14.382271-06:00","closed_at":"2026-01-22T17:20:14.382271-06:00","close_reason":"Closed"}
{"id":"sql-wv9t","title":"[GREEN] Fix failing tests in stream-cleanup.test.ts","description":"Fix 33 failing tests in packages/dosql/src/rpc/__tests__/stream-cleanup.test.ts\n\n## Failing Test Categories:\n- Stream TTL/inactivity timeout cleanup\n- Concurrent stream limits per connection\n- Connection cleanup (WebSocket close, CDC subscriptions)\n- Abandoned stream detection and leak prevention\n- Stream management API (closeStream, closeAllStreams, getStreamStats)\n- Memory tracking and limits\n- Graceful shutdown\n\n## Test Patterns:\n- it.fails('should automatically cleanup streams after inactivity timeout')\n- it.fails('should limit number of concurrent streams per connection')\n- it.fails('should cleanup all streams when WebSocket closes')\n- it.fails('should provide closeStream(streamId) method via manager')\n- it.fails('should track total stream memory')\n- it.fails('should support graceful shutdown with cleanup')","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:22:26.381152-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:17:42.752698-06:00","closed_at":"2026-01-23T10:17:42.752698-06:00","close_reason":"Closed"}
{"id":"sql-wz6m","title":"Fix observability span error details capture (1 test)","status":"open","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:55.252072-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:55.252072-06:00"}
{"id":"sql-x39y","title":"DOCS: D1 Migration - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:25.577904-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:28:16.482753-06:00","closed_at":"2026-01-23T12:28:16.482753-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-x39y","depends_on_id":"sql-5kyd","type":"blocks","created_at":"2026-01-23T12:02:39.596827-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-x7f","title":"FIX: Add bounds to CDCStreamController queue","description":"Architecture Review: CDCStreamController queue is unbounded. Add max queue size with backpressure.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T11:51:21.832389-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T12:12:14.896887-06:00","closed_at":"2026-01-22T12:12:14.896887-06:00","close_reason":"GREEN phase complete - tests passing"}
{"id":"sql-xe5m","title":"REFACTOR: Add generic type parameter to rpc() method for better type safety","description":"The rpc\u003cT\u003e() method in client.ts (line 475) returns Promise\u003cT\u003e but uses 'params: unknown' which loses type information. Consider: 1) Define RPC method signatures with input/output types 2) Use mapped types to infer param types from method names 3) This would eliminate need for type casts in calling code like line 481: 'method: method as LakeRPCRequest[\"method\"]'","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:31.242977-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:42:11.518529-06:00","closed_at":"2026-01-22T18:42:11.518529-06:00","close_reason":"Added generic type parameters (TResponse, TRequest) to the rpc() method in packages/sql.do/src/client.ts for better type safety. The method signature changed from rpc\u003cT\u003e(method, params: unknown) to rpc\u003cTResponse, TRequest = unknown\u003e(method, params: TRequest). All 72 existing tests pass."}
{"id":"sql-xeyn","title":"Implement transaction timeout notification to waiting transactions (1 test)","status":"open","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T12:48:54.538885-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T12:48:54.538885-06:00"}
{"id":"sql-xfp","title":"REFACTOR: Extract test temp directory fixture to shared test utility","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:41.749329-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:14:53.963494-06:00","closed_at":"2026-01-22T17:14:53.963494-06:00","close_reason":"Closed"}
{"id":"sql-xlhk","title":"DOCS: Benchmarks \u0026 Performance - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:27.139555-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:41:51.735132-06:00","closed_at":"2026-01-23T12:41:51.735132-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-xlhk","depends_on_id":"sql-lg6c","type":"blocks","created_at":"2026-01-23T12:02:42.026414-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-xoga","title":"DOCS: Remix Integration - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:23.973245-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:05:02.138703-06:00","closed_at":"2026-01-23T12:05:02.138703-06:00","close_reason":"Closed"}
{"id":"sql-xrks","title":"[GREEN] Fix failing tests in sqllogictest-subqueries.test.ts","description":"Fix 17 failing tests in packages/dosql/src/__tests__/sqllogictest-subqueries.test.ts\n\n## Failing Test Categories:\n- Subquery in WHERE clause (different table)\n- Correlated subqueries (count, max, sum, WHERE clause)\n- Subquery in CASE WHEN (condition, THEN, ELSE branches)\n- EXISTS subquery (with conditions, aggregates)\n- NOT EXISTS subquery (anti-join pattern)\n- Subquery in arithmetic expressions\n\n## Test Patterns:\n- it.fails('should support subquery from different table in WHERE')\n- it.fails('should support correlated subquery counting rows with smaller values')\n- it.fails('should support subquery in CASE WHEN condition')\n- it.fails('should support EXISTS subquery')\n- it.fails('should support NOT EXISTS for anti-join pattern')","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T08:22:55.727906-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T10:31:33.807036-06:00","closed_at":"2026-01-23T10:31:33.807036-06:00","close_reason":"Batch 4 tests fixed - commit 6ba0206"}
{"id":"sql-xuc8","title":"EDIT: shared-types index.ts QueryResponse/QueryResult interfaces missing JSDoc @example","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:42.680502-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:14:35.67697-06:00","closed_at":"2026-01-22T19:14:35.67697-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-xxw","title":"EDIT: dosql-cli - Add JSDoc comments to generate.ts exported functions and interfaces","description":"generateTypes function lacks JSDoc documentation. GenerateOptions and GenerateResult interfaces need documentation. Internal functions (mapSqlTypeToTs, tableNameToInterfaceName, parseSchemaFile, generateInterface) are undocumented. Need comprehensive JSDoc with examples.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:01.120453-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:21:22.426456-06:00","closed_at":"2026-01-22T17:21:22.426456-06:00","close_reason":"Added JSDoc comments to generate.ts including module documentation, interface property descriptions for GenerateOptions and GenerateResult, and documentation for internal types ColumnDefinition and TableSchema (note: linter may simplify comments)"}
{"id":"sql-y40l","title":"REFACTOR: DoLakeClient is 1500+ lines - consider breaking into modules","description":"client.ts is approximately 1500 lines containing: DoLakeClient class (~800 lines), CDCStreamController class (~285 lines), Error classes (~100 lines), types/interfaces (~60 lines). Consider restructuring into: 1) client/DoLakeClient.ts - main client 2) client/CDCStreamController.ts - stream handling 3) client/errors.ts - error classes 4) client/types.ts - client-specific types 5) client/index.ts - barrel export","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:29.583523-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T03:32:25.642428-06:00","closed_at":"2026-01-23T03:32:25.642428-06:00","close_reason":"Closed"}
{"id":"sql-y6b0","title":"RED: Add observability hooks (OpenTelemetry, metrics)","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:51:13.12956-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:09:31.223506-06:00","closed_at":"2026-01-22T17:09:31.223506-06:00","close_reason":"Closed"}
{"id":"sql-yeq","title":"REFACTOR: Consolidate percentile calculation logic in e2e/client.ts","description":"The measureLatency() (lines 329-355) and measureColdStart() (lines 365-394) methods both calculate percentiles using identical sorting and percentile() method calls. Create a generic LatencyCollector class or utility that: 1) Collects samples 2) Calculates percentiles 3) Returns LatencyMeasurement object. This also reduces the duplication of the samples.sort() and percentile calculation pattern.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:23.71411-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:37:43.757709-06:00","closed_at":"2026-01-22T18:37:43.757709-06:00","close_reason":"Consolidated percentile calculation logic in e2e/client.ts by importing and using the existing calculatePercentile function from src/utils/math.ts, removing the duplicate private percentile method"}
{"id":"sql-ygui","title":"EDIT: advanced.md - Add CDC streaming example showing error recovery patterns","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:40.587056-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:42:48.950341-06:00","closed_at":"2026-01-23T02:42:48.950341-06:00","close_reason":"Closed"}
{"id":"sql-yh7f","title":"REFACTOR: Consolidate branded type factory functions to reduce duplication","description":"Factory functions createTransactionId, createShardId, createStatementHash, and createLSN share nearly identical validation and caching patterns (lines 264-404). Each function: 1) checks dev/strict mode 2) validates input 3) checks cache for existing entry 4) evicts if needed 5) creates wrapper 6) adds to validation set 7) touches LRU. Extract common logic into a generic factory helper function to reduce ~100 lines of duplicated code.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:52.489779-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:37:57.984794-06:00","closed_at":"2026-01-22T18:37:57.984794-06:00","close_reason":"Analyzed branded type factory functions (createTransactionId, createLSN, createStatementHash, createShardId). Refactoring NOT warranted because: (1) Each factory has distinct validation logic (e.g., trim vs no-trim, max length, hex format checking), (2) LSN uses bigint-specific caching while others use string caching with type discriminator, (3) Extracting a generic helper would add complexity without meaningful benefit for ~15 lines of similar caching logic, (4) Type safety would be weakened by generics. The code is already well-structured and readable."}
{"id":"sql-yk6n","title":"EDIT: README.md - Document token bucket algorithm details for rate limiting","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:28.755527-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:19:38.410555-06:00","closed_at":"2026-01-22T19:19:38.410555-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-ykn2","title":"EDIT: README.md - Document scalability module (ParallelWriteManager, HorizontalScalingManager)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:13.960137-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:07:37.012041-06:00","closed_at":"2026-01-22T19:07:37.012041-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-ylu","title":"EDIT: api-reference.md - Add missing @dotdo/dosql/fsx subpath to Module Exports","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:22.828773-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:42:49.017742-06:00","closed_at":"2026-01-23T02:42:49.017742-06:00","close_reason":"Closed"}
{"id":"sql-yq5z","title":"REFACTOR: Extract duplicated partition field inference logic in QueryEngine","description":"The logic to infer partition fields from actual partitions when spec is empty is duplicated in both createQueryPlan and routeQuery methods. Extract into a shared utility function.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:58.795108-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:22:09.949023-06:00","closed_at":"2026-01-22T17:22:09.949023-06:00","close_reason":"Investigation found no duplicated partition field inference logic in QueryEngine. The partition logic exists in two distinct places with different purposes: lakehouse/partitioner.ts (time-based data file partitioning) and engine/operators/window.ts (window function PARTITION BY). These are separate concerns and should not be consolidated."}
{"id":"sql-yr0","title":"EDIT: README missing idempotency cache management methods documentation (getCacheSize, clearIdempotencyCache, getIdempotencyCacheStats, cleanupIdempotencyCache)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:08.066232-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T02:36:43.534426-06:00","closed_at":"2026-01-23T02:36:43.534426-06:00","close_reason":"Closed"}
{"id":"sql-yrlg","title":"EDIT: shared-types index.ts LSN/TransactionId/ShardId/StatementHash branded types missing JSDoc examples","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:35:32.427697-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:16:41.248649-06:00","closed_at":"2026-01-22T19:16:41.248649-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-ysjg","title":"Add CLI module tests","description":"\n## Problem\nCLI module has 39KB of code with NO tests:\n- src/cli/bin.ts\n- src/cli/index.ts\n- src/cli/repl.ts\n\n## TDD Approach\n\n### RED Phase\n- Create src/cli/__tests__/bin.test.ts\n- Create src/cli/__tests__/repl.test.ts\n- Test: CLI argument parsing\n- Test: REPL command execution\n- Test: Error handling and display\n- Test: Connection management\n\n### GREEN Phase\n- Ensure CLI functions are testable (extract logic from I/O)\n- Add tests for each command\n\n### REFACTOR Phase\n- Extract command handlers to separate files\n- Add command documentation generation\n\n## Files\n- packages/dosql/src/cli/__tests__/bin.test.ts (new)\n- packages/dosql/src/cli/__tests__/repl.test.ts (new)\n","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:07:53.114398-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:21.007241-06:00","closed_at":"2026-01-30T10:42:21.007241-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-yvzb","title":"EDIT: shared-types README example code shows client.beginTransaction returning TransactionId but type mismatch","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:31.956967-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:31:15.120932-06:00","closed_at":"2026-01-22T18:31:15.120932-06:00","close_reason":"Fixed: Updated README example to use TransactionState instead of TransactionId for beginTransaction() return type. Changed 'const txId: TransactionId' to 'const tx: TransactionState' and updated to use tx.id."}
{"id":"sql-yxog","title":"Add plan cache schema invalidation","description":"\n## Problem\nPlan cache has no invalidation on schema changes:\n- Cache based on SQL text + parameter types only\n- No invalidation on ALTER TABLE, CREATE INDEX\n- Stale plans after DDL operations\n\n## TDD Approach\n\n### RED Phase\n- Add test in src/planner/__tests__/cache-invalidation.test.ts\n- Test: Cache invalidates after ALTER TABLE\n- Test: Cache invalidates after CREATE INDEX\n- Test: Cache survives unrelated DDL\n\n### GREEN Phase\n- Add schema version tracking\n- Invalidate cache entries when schema version changes\n- Wire DDL operations to increment schema version\n\n### REFACTOR Phase\n- Consider partial invalidation (only affected tables)\n- Add cache statistics/metrics\n\n## Files\n- packages/dosql/src/planner/cache.ts\n- packages/dosql/src/database/schema.ts\n","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:08:17.400017-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:21.016275-06:00","closed_at":"2026-01-30T10:42:21.016275-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-z1b6","title":"DOCS: NextJS Integration - EDIT","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:21.572824-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:26:14.157067-06:00","closed_at":"2026-01-23T12:26:14.157067-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-z1b6","depends_on_id":"sql-jmkk","type":"blocks","created_at":"2026-01-23T12:02:38.40867-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-z603","title":"EDIT: README.md example - async/await in ws.onmessage callback is incorrect","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:52.956329-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:46:36.097674-06:00","closed_at":"2026-01-22T19:46:36.097674-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-z61","title":"EDIT: README version mismatch - shows 0.1.0-alpha but package.json is 0.1.0","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:33:47.329008-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T18:56:06.330103-06:00","closed_at":"2026-01-22T18:56:06.330103-06:00","close_reason":"Updated version from 0.1.0-alpha to 0.1.0 in 4 README files: packages/shared-types/README.md, packages/lake.do/README.md, packages/sql.do/README.md, packages/dolake/README.md - all now match their respective package.json versions"}
{"id":"sql-z6ml","title":"EDIT: lake.do README.md query example missing parameterized query note (documented gap)","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:47.135337-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T20:05:47.999329-06:00","closed_at":"2026-01-22T20:05:47.999329-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-z79a","title":"Fix IN operator with subquery support","description":"\n## Problem\nIN with subquery throws parser error:\n```sql\nSELECT 1 FROM t1 WHERE 1 IN (SELECT 1)\n-- Error: Invalid SELECT syntax\n```\n\n## TDD Approach\n\n### RED Phase\n- Add failing test in src/parser/__tests__/in-subquery.test.ts\n- Test: IN with scalar subquery\n- Test: IN with multi-row subquery\n- Test: NOT IN with subquery\n- Test: Correlated IN subquery\n\n### GREEN Phase\n- Update parser to recognize subquery in IN clause\n- Wire subquery execution in filter operator\n\n### REFACTOR Phase\n- Optimize subquery caching for repeated evaluation\n- Consider semi-join transformation\n\n## Files\n- packages/dosql/src/parser/dml.ts\n- packages/dosql/src/parser/subquery.ts\n- packages/dosql/src/engine/operators/filter.ts\n","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:07:05.183726-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:20.999144-06:00","closed_at":"2026-01-30T10:42:20.999144-06:00","close_reason":"Implementation complete with passing tests"}
{"id":"sql-zanv","title":"EDIT: shared-types index.ts ShardConfig/ShardInfo interfaces missing JSDoc descriptions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:15.051059-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T17:18:17.589237-06:00","closed_at":"2026-01-22T17:18:17.589237-06:00","close_reason":"Added JSDoc with @example to ShardConfig and ShardInfo interfaces"}
{"id":"sql-zc86","title":"EDIT: README.md - Clarify developer preview status with expected graduation timeline","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:36:23.071969-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:07:36.978468-06:00","closed_at":"2026-01-22T19:07:36.978468-06:00","close_reason":"Documentation added by agents"}
{"id":"sql-zcn9","title":"EDIT: Inline comment missing explanation for WebSocket.READY_STATE_OPEN magic constant","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:46.68225-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:51:29.74913-06:00","closed_at":"2026-01-22T19:51:29.74913-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-zdom","title":"EDIT: types.ts missing documentation for re-exported types from @dotdo/shared-types","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T16:34:59.997648-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T19:51:29.699137-06:00","closed_at":"2026-01-22T19:51:29.699137-06:00","close_reason":"Documentation/code improved by agents"}
{"id":"sql-zhy","title":"v1.0 Production Release","status":"closed","priority":0,"issue_type":"epic","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:36:34.936376-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:16:11.75364-06:00","closed_at":"2026-01-22T06:16:11.75364-06:00","close_reason":"All 48 sub-issues completed: P0 GREEN (4), P1 GREEN/RED/WRITE (15), P2 GREEN/RED/REFACTOR (17), P3 EDIT (4), P2/P3 WRITE/REWRITE (8)"}
{"id":"sql-zhy.1","title":"[RED] SQL Injection Risk - MockQueryExecutor: Tests documenting SQL injection via regex parsing","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:28.303107-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:49:35.616932-06:00","closed_at":"2026-01-22T04:49:35.616932-06:00","close_reason":"Completed RED phase tests and documentation"}
{"id":"sql-zhy.10","title":"[GREEN] Type Duplication Resolution - Create shared @dotdo/sql-types package or consolidate","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:28.859078-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:14:58.166919-06:00","closed_at":"2026-01-22T05:14:58.166919-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-zhy.10","depends_on_id":"sql-zhy.9","type":"blocks","created_at":"2026-01-22T04:37:54.975152-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-zhy.11","title":"[RED] Error Handling Standardization - Tests for consistent error codes and formats","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:30.038902-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:59:31.272749-06:00","closed_at":"2026-01-22T04:59:31.272749-06:00","close_reason":"Closed"}
{"id":"sql-zhy.12","title":"[GREEN] Error Handling Standardization - Create unified error hierarchy across packages","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:31.49101-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:14:58.16903-06:00","closed_at":"2026-01-22T05:14:58.16903-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-zhy.12","depends_on_id":"sql-zhy.11","type":"blocks","created_at":"2026-01-22T04:37:56.255754-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-zhy.13","title":"[RED] Rate Limit Headers Validation - Tests for negative/invalid rate limit values","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:32.51252-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:59:31.274325-06:00","closed_at":"2026-01-22T04:59:31.274325-06:00","close_reason":"Closed"}
{"id":"sql-zhy.14","title":"[GREEN] Rate Limit Headers Validation - Add bounds checking in getRateLimitHeaders","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:33.707981-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:14:58.170886-06:00","closed_at":"2026-01-22T05:14:58.170886-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-zhy.14","depends_on_id":"sql-zhy.13","type":"blocks","created_at":"2026-01-22T04:37:57.897201-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-zhy.15","title":"[RED] CREATE TRIGGER Support - Tests for CREATE TRIGGER syntax","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:41.2829-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:14:58.172745-06:00","closed_at":"2026-01-22T05:14:58.172745-06:00","close_reason":"Closed"}
{"id":"sql-zhy.16","title":"[GREEN] CREATE TRIGGER Support - Implement trigger parser and executor","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:42.848246-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:49:58.141135-06:00","closed_at":"2026-01-22T05:49:58.141135-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-zhy.16","depends_on_id":"sql-zhy.15","type":"blocks","created_at":"2026-01-22T04:37:58.81472-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-zhy.17","title":"[RED] WAL Retention Policy - Tests for automatic WAL cleanup","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:44.053205-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:14:58.174164-06:00","closed_at":"2026-01-22T05:14:58.174164-06:00","close_reason":"Closed"}
{"id":"sql-zhy.18","title":"[GREEN] WAL Retention Policy - Implement time/size-based retention","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:45.017618-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:49:58.143345-06:00","closed_at":"2026-01-22T05:49:58.143345-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-zhy.18","depends_on_id":"sql-zhy.17","type":"blocks","created_at":"2026-01-22T04:38:00.310176-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-zhy.19","title":"[RED] Transaction Timeout Enforcement - Tests for server-side timeout","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:45.967883-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:14:58.175714-06:00","closed_at":"2026-01-22T05:14:58.175714-06:00","close_reason":"Closed"}
{"id":"sql-zhy.2","title":"[GREEN] SQL Injection Risk - MockQueryExecutor: Replace regex with proper SQL parser","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:29.389149-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:59:31.263692-06:00","closed_at":"2026-01-22T04:59:31.263692-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-zhy.2","depends_on_id":"sql-zhy.1","type":"blocks","created_at":"2026-01-22T04:37:44.87929-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-zhy.20","title":"[GREEN] Transaction Timeout Enforcement - Implement DO alarm-based timeout enforcement","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:47.488919-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:49:58.145214-06:00","closed_at":"2026-01-22T05:49:58.145214-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-zhy.20","depends_on_id":"sql-zhy.19","type":"blocks","created_at":"2026-01-22T04:38:01.185216-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-zhy.21","title":"[RED] Named Parameter Binding - Tests for parameters in string literals and escaped markers","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:30.59135-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:49:58.14692-06:00","closed_at":"2026-01-22T05:49:58.14692-06:00","close_reason":"Closed"}
{"id":"sql-zhy.22","title":"[GREEN] Named Parameter Binding - Use existing parseParameters from binding.ts","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:32.045904-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:49:58.148531-06:00","closed_at":"2026-01-22T05:49:58.148531-06:00","close_reason":"Closed"}
{"id":"sql-zhy.23","title":"[RED] BigInt Serialization - Tests for bigint JSON serialization errors","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:33.274427-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:49:58.15-06:00","closed_at":"2026-01-22T05:49:58.15-06:00","close_reason":"Closed"}
{"id":"sql-zhy.24","title":"[GREEN] BigInt Serialization - Add custom serializer for Iceberg types","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:34.553625-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:49:58.151263-06:00","closed_at":"2026-01-22T05:49:58.151263-06:00","close_reason":"Closed"}
{"id":"sql-zhy.25","title":"[RED] Stream State Cleanup - Tests for memory leaks with abandoned streams","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:35.594038-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:04:34.229978-06:00","closed_at":"2026-01-22T06:04:34.229978-06:00","close_reason":"Closed"}
{"id":"sql-zhy.26","title":"[GREEN] Stream State Cleanup - Add TTL-based cleanup for streams Map","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:36.991953-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:04:34.23183-06:00","closed_at":"2026-01-22T06:04:34.23183-06:00","close_reason":"Closed"}
{"id":"sql-zhy.27","title":"[RED] Client SDK Idempotency Keys - Tests for mutation retry safety","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:37.97022-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:04:34.233275-06:00","closed_at":"2026-01-22T06:04:34.233275-06:00","close_reason":"Closed"}
{"id":"sql-zhy.28","title":"[GREEN] Client SDK Idempotency Keys - Generate and pass idempotency keys for mutations","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:38.963636-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:04:34.23459-06:00","closed_at":"2026-01-22T06:04:34.23459-06:00","close_reason":"Closed"}
{"id":"sql-zhy.29","title":"[REFACTOR] readonly Modifier Consistency - Apply readonly to immutable properties across packages","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:40.07096-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:04:34.236048-06:00","closed_at":"2026-01-22T06:04:34.236048-06:00","close_reason":"Closed"}
{"id":"sql-zhy.3","title":"[RED] WebSocket Message Size Validation: Tests for memory exhaustion via oversized JSON payloads","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:31.100241-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:49:35.618996-06:00","closed_at":"2026-01-22T04:49:35.618996-06:00","close_reason":"Completed RED phase tests and documentation"}
{"id":"sql-zhy.30","title":"[REFACTOR] Magic Numbers Extraction - Extract hardcoded values to named constants","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:41.543274-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:15:58.276832-06:00","closed_at":"2026-01-22T06:15:58.276832-06:00","close_reason":"Closed"}
{"id":"sql-zhy.31","title":"[REFACTOR] Test Organization - Move inline *.test.ts to __tests__ directories","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:42.916637-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:15:58.278668-06:00","closed_at":"2026-01-22T06:15:58.278668-06:00","close_reason":"Closed"}
{"id":"sql-zhy.32","title":"[WRITE] Security Best Practices documentation","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:28.584884-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:49:35.624724-06:00","closed_at":"2026-01-22T04:49:35.624724-06:00","close_reason":"Completed RED phase tests and documentation"}
{"id":"sql-zhy.33","title":"[WRITE] Deployment \u0026 Operations Guide","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:29.616373-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:49:35.626382-06:00","closed_at":"2026-01-22T04:49:35.626382-06:00","close_reason":"Completed RED phase tests and documentation"}
{"id":"sql-zhy.34","title":"[WRITE] Performance Tuning Guide","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:30.770479-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:59:31.275689-06:00","closed_at":"2026-01-22T04:59:31.275689-06:00","close_reason":"Closed"}
{"id":"sql-zhy.35","title":"[WRITE] Migration from D1 Guide","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:31.979159-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:59:31.277-06:00","closed_at":"2026-01-22T04:59:31.277-06:00","close_reason":"Closed"}
{"id":"sql-zhy.36","title":"[WRITE] Migration from Turso Guide","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:33.608917-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:14:58.177638-06:00","closed_at":"2026-01-22T05:14:58.177638-06:00","close_reason":"Closed"}
{"id":"sql-zhy.37","title":"[WRITE] Troubleshooting FAQ","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:34.53922-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:14:58.179575-06:00","closed_at":"2026-01-22T05:14:58.179575-06:00","close_reason":"Closed"}
{"id":"sql-zhy.38","title":"[WRITE] Error Codes Reference","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:35.659474-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:14:58.181112-06:00","closed_at":"2026-01-22T05:14:58.181112-06:00","close_reason":"Closed"}
{"id":"sql-zhy.39","title":"[WRITE] Remix Integration Guide","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:37.178048-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:04:34.237254-06:00","closed_at":"2026-01-22T06:04:34.237254-06:00","close_reason":"Closed"}
{"id":"sql-zhy.4","title":"[GREEN] WebSocket Message Size Validation: Add size checks before JSON.parse","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:31.966346-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:59:31.2657-06:00","closed_at":"2026-01-22T04:59:31.2657-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-zhy.4","depends_on_id":"sql-zhy.3","type":"blocks","created_at":"2026-01-22T04:37:46.026269-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-zhy.40","title":"[WRITE] Next.js Integration Guide","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:38.423085-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:04:34.238566-06:00","closed_at":"2026-01-22T06:04:34.238566-06:00","close_reason":"Closed"}
{"id":"sql-zhy.41","title":"[WRITE] Example Apps README","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:39.409622-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:04:34.240003-06:00","closed_at":"2026-01-22T06:04:34.240003-06:00","close_reason":"Closed"}
{"id":"sql-zhy.42","title":"[EDIT] Add JSDoc to sql.do public API - Add @param, @returns, @throws to all public methods in packages/sql.do/src/client.ts, index.ts","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:28.733777-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:15:58.280168-06:00","closed_at":"2026-01-22T06:15:58.280168-06:00","close_reason":"Closed"}
{"id":"sql-zhy.43","title":"[EDIT] Add JSDoc to lake.do public API - Add @param, @returns, @throws to all public methods in packages/lake.do/src/client.ts, index.ts","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:30.364438-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:15:58.281921-06:00","closed_at":"2026-01-22T06:15:58.281921-06:00","close_reason":"Closed"}
{"id":"sql-zhy.44","title":"[EDIT] Improve parser error messages - Add source location info to parser errors, include helpful suggestions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:31.714505-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:15:58.283509-06:00","closed_at":"2026-01-22T06:15:58.283509-06:00","close_reason":"Closed"}
{"id":"sql-zhy.45","title":"[EDIT] Enhance root README - Add quick start, badges, better examples in README.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:33.095704-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:49:58.152601-06:00","closed_at":"2026-01-22T05:49:58.152601-06:00","close_reason":"Closed"}
{"id":"sql-zhy.46","title":"[EDIT] Add API stability annotations - Mark stable vs experimental exports, update package.json exports","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:34.176736-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:15:58.285116-06:00","closed_at":"2026-01-22T06:15:58.285116-06:00","close_reason":"Closed"}
{"id":"sql-zhy.47","title":"[REWRITE] DoLake README - Expand with architecture, examples, API reference in packages/dolake/README.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:35.102003-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T05:49:58.15403-06:00","closed_at":"2026-01-22T05:49:58.15403-06:00","close_reason":"Closed"}
{"id":"sql-zhy.48","title":"[REWRITE] dosql architecture.md - Update for current 4-package structure, add client SDK integration in packages/dosql/docs/architecture.md","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:36.730062-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T06:04:34.241551-06:00","closed_at":"2026-01-22T06:04:34.241551-06:00","close_reason":"Closed"}
{"id":"sql-zhy.5","title":"[RED] RETURNING Clause Support: Tests for INSERT/UPDATE/DELETE RETURNING syntax","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:34.719855-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:49:35.620962-06:00","closed_at":"2026-01-22T04:49:35.620962-06:00","close_reason":"Completed RED phase tests and documentation"}
{"id":"sql-zhy.6","title":"[GREEN] RETURNING Clause Support: Implement RETURNING in parser and executor","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:36.207536-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:59:31.267306-06:00","closed_at":"2026-01-22T04:59:31.267306-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-zhy.6","depends_on_id":"sql-zhy.5","type":"blocks","created_at":"2026-01-22T04:37:46.991984-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-zhy.7","title":"[RED] Deadlock Detection Completion: Tests for multi-way deadlocks and victim selection","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:37.407058-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:49:35.622859-06:00","closed_at":"2026-01-22T04:49:35.622859-06:00","close_reason":"Completed RED phase tests and documentation"}
{"id":"sql-zhy.8","title":"[GREEN] Deadlock Detection Completion: Complete wait-for graph cycle detection","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:38.358635-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:59:31.269155-06:00","closed_at":"2026-01-22T04:59:31.269155-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-zhy.8","depends_on_id":"sql-zhy.7","type":"blocks","created_at":"2026-01-22T04:37:48.289562-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-zhy.9","title":"[RED] Type Duplication Resolution - Tests verifying client/server type compatibility","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-22T04:37:26.723666-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-22T04:59:31.27112-06:00","closed_at":"2026-01-22T04:59:31.27112-06:00","close_reason":"Closed"}
{"id":"sql-zkoo","title":"DOCS: Remix Integration - REWRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:26.518454-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:41:25.974738-06:00","closed_at":"2026-01-23T12:41:25.974738-06:00","close_reason":"Closed","dependencies":[{"issue_id":"sql-zkoo","depends_on_id":"sql-8ie1","type":"blocks","created_at":"2026-01-23T12:02:41.874214-06:00","created_by":"Nathan Clevenger"}]}
{"id":"sql-zo0a","title":"Implement WAL retention policy","description":"\n## Problem\nWAL retention policy unclear:\n- Checkpoint interval and trigger conditions not clear\n- Risk of unbounded WAL growth if checkpoints never fire\n- Could exhaust DO storage\n\n## TDD Approach\n\n### RED Phase\n- Add test in src/wal/__tests__/retention-policy.test.ts\n- Test: WAL segments archived after checkpoint\n- Test: Old segments deleted after retention period\n- Test: Manual checkpoint trigger works\n\n### GREEN Phase\n- Implement configurable retention policy\n- Add automatic checkpoint on size/time threshold\n- Add segment cleanup job\n\n### REFACTOR Phase\n- Add retention metrics/monitoring\n- Consider tiered retention (hot/warm/cold)\n\n## Files\n- packages/dosql/src/wal/retention/policy.ts\n- packages/dosql/src/wal/checkpoint.ts\n","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-30T09:08:18.721141-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-30T10:42:26.648656-06:00","closed_at":"2026-01-30T10:42:26.648656-06:00","close_reason":"Partial implementation - retention policy skeleton and test unblocking done"}
{"id":"sql-zzy3","title":"DOCS: Security Model - WRITE","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-23T12:02:19.671988-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-23T12:21:17.608346-06:00","closed_at":"2026-01-23T12:21:17.608346-06:00","close_reason":"Closed"}
